<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue相关 | 十月</title>
    <meta name="generator" content="VuePress 1.4.1">
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="/docs/utils/utils.js"></script>
    <link rel="icon" href="/docs/images/7.png">
    <meta name="description" content="vuepress博客">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="full-screen" content="true">
    <meta name="x5-fullscreen" content="true">
    <meta name="360-fullscreen" content="true">
    <link rel="preload" href="/docs/assets/css/0.styles.4581c035.css" as="style"><link rel="preload" href="/docs/assets/js/app.496b0931.js" as="script"><link rel="preload" href="/docs/assets/js/2.f90869d3.js" as="script"><link rel="preload" href="/docs/assets/js/23.52d4b090.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.4e260648.js"><link rel="prefetch" href="/docs/assets/js/11.c7faf0dc.js"><link rel="prefetch" href="/docs/assets/js/12.e2e451d7.js"><link rel="prefetch" href="/docs/assets/js/13.0bca2749.js"><link rel="prefetch" href="/docs/assets/js/14.e9248f0f.js"><link rel="prefetch" href="/docs/assets/js/15.891e4394.js"><link rel="prefetch" href="/docs/assets/js/16.e00288bc.js"><link rel="prefetch" href="/docs/assets/js/17.1a83ea74.js"><link rel="prefetch" href="/docs/assets/js/18.c007769d.js"><link rel="prefetch" href="/docs/assets/js/19.ba43cd67.js"><link rel="prefetch" href="/docs/assets/js/20.8b01c1c8.js"><link rel="prefetch" href="/docs/assets/js/21.9e67312b.js"><link rel="prefetch" href="/docs/assets/js/22.b41c324e.js"><link rel="prefetch" href="/docs/assets/js/24.a9d72343.js"><link rel="prefetch" href="/docs/assets/js/25.4e243327.js"><link rel="prefetch" href="/docs/assets/js/26.786162a2.js"><link rel="prefetch" href="/docs/assets/js/27.f9a5939b.js"><link rel="prefetch" href="/docs/assets/js/28.a50fece0.js"><link rel="prefetch" href="/docs/assets/js/29.ddc7618f.js"><link rel="prefetch" href="/docs/assets/js/3.edb5e83a.js"><link rel="prefetch" href="/docs/assets/js/30.274da36f.js"><link rel="prefetch" href="/docs/assets/js/31.de01ef66.js"><link rel="prefetch" href="/docs/assets/js/32.699dd8b4.js"><link rel="prefetch" href="/docs/assets/js/33.b65b59da.js"><link rel="prefetch" href="/docs/assets/js/34.7281d86e.js"><link rel="prefetch" href="/docs/assets/js/35.71f8e7df.js"><link rel="prefetch" href="/docs/assets/js/36.f9ffcd58.js"><link rel="prefetch" href="/docs/assets/js/37.944918a2.js"><link rel="prefetch" href="/docs/assets/js/38.ec811ecb.js"><link rel="prefetch" href="/docs/assets/js/39.d39702a2.js"><link rel="prefetch" href="/docs/assets/js/4.af1ff500.js"><link rel="prefetch" href="/docs/assets/js/40.f0b6f971.js"><link rel="prefetch" href="/docs/assets/js/41.f6b18c0a.js"><link rel="prefetch" href="/docs/assets/js/42.e6e82b74.js"><link rel="prefetch" href="/docs/assets/js/43.fd9d0a1a.js"><link rel="prefetch" href="/docs/assets/js/5.2d8eeb88.js"><link rel="prefetch" href="/docs/assets/js/6.0e82c544.js"><link rel="prefetch" href="/docs/assets/js/7.30be3a2a.js"><link rel="prefetch" href="/docs/assets/js/8.d653075e.js"><link rel="prefetch" href="/docs/assets/js/9.022925d2.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.4581c035.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/images/7.png" alt="十月" class="logo"> <span class="site-name can-hide">十月</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/blog/" class="nav-link">
  技术博客
</a></div><div class="nav-item"><a href="/docs/JavaScript/" class="nav-link">
  Js
</a></div><div class="nav-item"><a href="/docs/jQuery/" class="nav-link">
  jQuery
</a></div><div class="nav-item"><a href="/docs/css/" class="nav-link">
  html+css
</a></div><div class="nav-item"><a href="/docs/ts/" class="nav-link">
  ts
</a></div><div class="nav-item"><a href="/docs/Vue/" class="nav-link router-link-exact-active router-link-active">
  Vue
</a></div><div class="nav-item"><a href="/docs/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/docs/node/" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/docs/wx/" class="nav-link">
  wx
</a></div><div class="nav-item"><a href="/docs/http/" class="nav-link">
  网络
</a></div><div class="nav-item"><a href="/docs/myComponents/" class="nav-link">
  封装组件
</a></div><div class="nav-item"><a href="/docs/utils/" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="https://github.com/lovebabyqi/Components" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/blog/" class="nav-link">
  技术博客
</a></div><div class="nav-item"><a href="/docs/JavaScript/" class="nav-link">
  Js
</a></div><div class="nav-item"><a href="/docs/jQuery/" class="nav-link">
  jQuery
</a></div><div class="nav-item"><a href="/docs/css/" class="nav-link">
  html+css
</a></div><div class="nav-item"><a href="/docs/ts/" class="nav-link">
  ts
</a></div><div class="nav-item"><a href="/docs/Vue/" class="nav-link router-link-exact-active router-link-active">
  Vue
</a></div><div class="nav-item"><a href="/docs/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/docs/node/" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/docs/wx/" class="nav-link">
  wx
</a></div><div class="nav-item"><a href="/docs/http/" class="nav-link">
  网络
</a></div><div class="nav-item"><a href="/docs/myComponents/" class="nav-link">
  封装组件
</a></div><div class="nav-item"><a href="/docs/utils/" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="https://github.com/lovebabyqi/Components" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docs/Vue/" class="active sidebar-link">vue相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_1-vue数据-事件" class="sidebar-link">1.vue数据,事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_1-1-react和vue数据对比" class="sidebar-link">1.1 react和Vue数据对比</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_1-2-事件处理函数" class="sidebar-link">1.2 事件处理函数</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_2-v-model数据绑定" class="sidebar-link">2. v-model数据绑定</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_2-1-v-model-该指令可以把vue中的数据和表单的数据绑定在一块（双向数据绑定）" class="sidebar-link">2.1 v-model  该指令可以把vue中的数据和表单的数据绑定在一块（双向数据绑定）</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_3-指令" class="sidebar-link">3. 指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_3-1-v-for" class="sidebar-link">3.1 v-for</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_3-2-v-bind" class="sidebar-link">3.2 v-bind</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_3-3-v-if" class="sidebar-link">3.3 v-if</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_3-4-v-show" class="sidebar-link">3.4 v-show</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_3-5-自定义局部指令" class="sidebar-link">3.5 自定义局部指令</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_4-侦听器-过滤器" class="sidebar-link">4. 侦听器,过滤器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_4-1-侦听器watch" class="sidebar-link">4.1 侦听器watch</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_4-2-过滤器" class="sidebar-link">4.2 过滤器</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_5-vue生命周期函数" class="sidebar-link">5. Vue生命周期函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_1-beforecreate" class="sidebar-link">1. beforeCreate</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_2-created" class="sidebar-link">2. created</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_3-beforemount" class="sidebar-link">3. beforeMount</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_4-mounted" class="sidebar-link">4. mounted</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_5-beforeupdate" class="sidebar-link">5. beforeUpdate</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_6-updated" class="sidebar-link">6. updated</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_7-activated" class="sidebar-link">7. activated</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_8-deactivated" class="sidebar-link">8. deactivated</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_9-beforedestroy" class="sidebar-link">9. beforeDestroy</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_10-destroyed" class="sidebar-link">10. destroyed</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_11-errorcaptured" class="sidebar-link">11. errorCaptured</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_6-props" class="sidebar-link">6. props</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_6-1-组件的data选项" class="sidebar-link">6.1 组件的data选项</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_6-2-props数据检测" class="sidebar-link">6.2 props数据检测</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_6-3-父组件传递数据给子组件" class="sidebar-link">6.3 父组件传递数据给子组件</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_6-4-子组件传递数据给父组件" class="sidebar-link">6.4 子组件传递数据给父组件</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_6-5-非父子组件传递数据-事件车" class="sidebar-link">6.5 非父子组件传递数据,事件车</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_7-依赖注入" class="sidebar-link">7. 依赖注入</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_8-动态组件" class="sidebar-link">8. 动态组件</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_9-递归组件" class="sidebar-link">9. 递归组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_9-1在组件内部调用自身组件-通过v-if控制递归" class="sidebar-link">9.1在组件内部调用自身组件,通过v-if控制递归</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_10-v-model在组件上使用" class="sidebar-link">10. v-model在组件上使用</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_11-插槽" class="sidebar-link">11. 插槽</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_11-1-匿名具名插槽slot" class="sidebar-link">11.1 匿名具名插槽slot</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_11-2-作用域插槽" class="sidebar-link">11.2 作用域插槽</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_12-混入mixins" class="sidebar-link">12. 混入mixins</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_12-1-局部混入" class="sidebar-link">12.1 局部混入</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_12-2-全局混入" class="sidebar-link">12.2 全局混入</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_13-vue-router路由" class="sidebar-link">13. vue-router路由</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_13-1-声明式" class="sidebar-link">13.1 声明式</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_13-2-编程式的导航" class="sidebar-link">13.2 编程式的导航</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_13-3-路由表抽离" class="sidebar-link">13.3 路由表抽离</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_13-4-异步加载路由组件" class="sidebar-link">13.4 异步加载路由组件</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_13-5-跳转路由，内容高度超过视口，容易出现跳转后，scroll未在最顶部" class="sidebar-link">13.5 跳转路由，内容高度超过视口，容易出现跳转后，scroll未在最顶部</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_14-vuex仓库" class="sidebar-link">14. vuex仓库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_14-1-创建仓库" class="sidebar-link">14.1 创建仓库</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_14-2-在组件内访问仓库" class="sidebar-link">14.2 在组件内访问仓库</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_14-3-仓库抽离管理及modules" class="sidebar-link">14.3 仓库抽离管理及modules</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_14-4-仓库监听" class="sidebar-link">14.4 仓库监听</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_15-vue-config-js配置端口转发-解决开发环境跨域" class="sidebar-link">15. vue.config.js配置端口转发(解决开发环境跨域)</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_16-mockjs模拟后台" class="sidebar-link">16. mockjs模拟后台</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_16-1-使用mock模拟数据" class="sidebar-link">16.1 使用mock模拟数据</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_16-2-目录结构，接口抽离管理" class="sidebar-link">16.2 目录结构，接口抽离管理</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_17-打包优化-首屏优化" class="sidebar-link">17. 打包优化(首屏优化)</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_18-vuerequirecontext" class="sidebar-link">18. vueRequireContext</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_19-vue-lazyload图片懒加载" class="sidebar-link">19. vue-lazyload图片懒加载</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_20-postcss-px-to-viewport" class="sidebar-link">20. postcss-px-to-viewport</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_21-transition组件" class="sidebar-link">21. transition组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_21-1-示例一-tab选项卡切换-类似路由切换" class="sidebar-link">21.1 示例一,tab选项卡切换,类似路由切换</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_21-2-slidertransition封装" class="sidebar-link">21.2 Slidertransition封装</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_22-vue-aweswiper轮播图" class="sidebar-link">22. vue_aweSwiper轮播图</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_22-1-安装" class="sidebar-link">22.1 安装</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_2-全局注册-局部注册视情况" class="sidebar-link">2.全局注册,局部注册视情况</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_23-不区分大小写搜索" class="sidebar-link">23. 不区分大小写搜索</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#_23-1-正则实现input实时搜索-不区分大小写" class="sidebar-link">23.1 正则实现input实时搜索,不区分大小写</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Vue/#_24-vue-config-js" class="sidebar-link">24. vue.config.js</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue/#configurewebpack-resolve-alias" class="sidebar-link">configureWebpack.resolve.alias</a></li><li class="sidebar-sub-header"><a href="/docs/Vue/#devserver" class="sidebar-link">devServer</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue相关"><a href="#vue相关" class="header-anchor">#</a> vue相关</h1> <h2 id="_1-vue数据-事件"><a href="#_1-vue数据-事件" class="header-anchor">#</a> 1.vue数据,事件</h2> <h3 id="_1-1-react和vue数据对比"><a href="#_1-1-react和vue数据对比" class="header-anchor">#</a> 1.1 react和Vue数据对比</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>                           react            	vue
  <span class="token number">1.</span>显示组件数据的方式      <span class="token punctuation">{</span>数据<span class="token punctuation">}</span>                <span class="token punctuation">{</span><span class="token punctuation">{</span>数据<span class="token punctuation">}</span><span class="token punctuation">}</span>  插值表达式
  <span class="token number">2.</span>事件处理函数的判定     等号右侧有<span class="token punctuation">{</span><span class="token punctuation">}</span>           等号左侧有vue指令
  <span class="token number">3.</span>数据更新的方式        setState之后触发render  找到data中的值 赋一个新的值
</code></pre></div><p><strong>data数据更改的细节</strong></p> <p>对于数组：</p> <ul><li><p>vue是不能感知数组对索引位的更改。</p></li> <li><p>vue可以感知数组的变异方法 即可以改变原数组的。</p> <p><em>push pop		末位添加，删除</em>*</p></li></ul> <blockquote><p><strong>unshift shift		首位添加，删除</strong></p> <p><strong>sort reverse		排序、倒序</strong></p> <p><strong>splice			从某位开始删除或替换</strong></p></blockquote> <p>对于对象：</p> <ul><li>vue是不能感知对象属性的增加/删除。</li> <li>可以通过this.$set(对象，属性，属性值)。</li></ul> <h3 id="_1-2-事件处理函数"><a href="#_1-2-事件处理函数" class="header-anchor">#</a> 1.2 事件处理函数</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token operator">=</span>事件处理函数  等价  @click<span class="token operator">=</span>事件处理函数
</code></pre></div><h4 id="_1-2-1-事件修饰符"><a href="#_1-2-1-事件修饰符" class="header-anchor">#</a> 1.2.1 事件修饰符</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>事件修饰符
	<span class="token punctuation">.</span>stop       阻止事件传播   e<span class="token punctuation">.</span>stopPropagation
	<span class="token punctuation">.</span>capture    该事件处理函数在事件捕获阶段触发
	<span class="token punctuation">.</span>prevent     阻止默认行为  e<span class="token punctuation">.</span>preventDefault
	<span class="token punctuation">.</span>once       事件处理函数只执行一次
    <span class="token punctuation">.</span>native		在组件上绑定原生的dom事件
按键修饰符
	@keyup<span class="token punctuation">.</span>enter
系统修饰符
	@click<span class="token operator">=</span>事件处理函数<span class="token operator">/</span>事件处理函数（数据，$event）
</code></pre></div><h2 id="_2-v-model数据绑定"><a href="#_2-v-model数据绑定" class="header-anchor">#</a> 2. v-model数据绑定</h2> <h3 id="_2-1-v-model-该指令可以把vue中的数据和表单的数据绑定在一块（双向数据绑定）"><a href="#_2-1-v-model-该指令可以把vue中的数据和表单的数据绑定在一块（双向数据绑定）" class="header-anchor">#</a> 2.1 v-model  该指令可以把vue中的数据和表单的数据绑定在一块（双向数据绑定）</h3> <ul><li>普通的文本框/文本域中，收集的是<strong>文本框的输入数据</strong>。</li> <li>单选按钮，收集的是<strong>单选按钮的<code>value</code></strong>。</li> <li>单个复选按钮， 收集的是一个<strong>布尔值</strong>，如果复选框选中 则收集的是<code>true</code> 反之<code>false</code>。</li> <li>多个复选按钮， 收集的是一个<strong>数组</strong>，如果复选框选中 则收集的是<code>value</code>值 反之<code>false</code>。</li> <li>下拉框，收集的是<code>option</code>的<code>value</code>。</li> <li>如果加上multiple 则收集的数组  数组的每项都是option的value</li></ul> <h4 id="_2-1-2-修饰符"><a href="#_2-1-2-修饰符" class="header-anchor">#</a> 2.1.2 修饰符</h4> <ul><li>.number，处理数字格式的字符串  '12312312'  变成数字类型。 对于非数字格式  'shiyue' 不做任何处理。</li> <li>.lazy，延迟收集数据。</li> <li>.trim，处理输入框数据的左右两侧空格。</li></ul> <h4 id="_2-1-3-示例"><a href="#_2-1-3-示例" class="header-anchor">#</a> 2.1.3 示例:</h4> <div class="language-html extra-class"><pre class="language-html"><code>文本框：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model.trim</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
文本域：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>textArea<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--单选按钮--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>男<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>女<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--单个复选按钮--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checked<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--多个复选按钮--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Jack<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkedNames<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>John<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkedNames<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Mike<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkedNames<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--下拉框--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>selected<span class="token punctuation">&quot;</span></span> <span class="token attr-name">multiple</span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">&gt;</span></span>上海<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">&gt;</span></span>北京<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">&gt;</span></span>长沙<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击收集数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

data:{
    text:'',    //收集文本框的输入数据
    textArea:'', //收集文本域的输入数据
    sex:'男',    //收集单选按钮的value
    checked:'',	//单个复选按钮,布尔值
    checkedNames:[],//多个复选按钮,收集value值
    selected:[],
},
</code></pre></div><h2 id="_3-指令"><a href="#_3-指令" class="header-anchor">#</a> 3. 指令</h2> <h3 id="_3-1-v-for"><a href="#_3-1-v-for" class="header-anchor">#</a> 3.1 v-for</h3> <p><strong>v-for 可以循环vue的数据   根据数据生成对应的标签结构</strong></p> <ul><li>数据是数组，得到两个变量，<code>item index</code>。</li> <li>数据是数字，得到两个变量，<code>item index</code>。</li> <li>数据是字符串，得到两个变量，<code>item index</code>。</li> <li>数据是对象，得到三个变量，属性值 属性名 索引。</li></ul> <p>示例</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>(item,index) of arr<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">v-bind:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		{{index}}--{{item}}--<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>data<span class="token operator">:</span><span class="token punctuation">{</span>
    arr<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'大先生'</span><span class="token punctuation">,</span><span class="token string">'二先生'</span><span class="token punctuation">,</span><span class="token string">'三先生'</span><span class="token punctuation">,</span><span class="token string">'十三先生'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-2-v-bind"><a href="#_3-2-v-bind" class="header-anchor">#</a> 3.2 v-bind</h3> <p>v-bind指令可以把标签的属性和vue的数据绑定在一块。</p> <p>v-bind:属性  可以简写成   <strong>:属性</strong>。</p> <p>vue可以把标签的样式和对象/数组绑定在一块。</p> <div class="language-html extra-class"><pre class="language-html"><code>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>heaven</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>a<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">:heaven</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>a<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    
<span class="token comment">&lt;!--style和对象绑定在一块--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation">=</span>styleObj</span><span class="token punctuation">&gt;</span></span>{{text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    
<span class="token comment">&lt;!--style和数组绑定在一块--&gt;</span>    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation">=</span>styleArr</span><span class="token punctuation">&gt;</span></span>{{text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    
<span class="token comment">&lt;!--class和字符串绑定在一块--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>heaven'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{text1}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    
<span class="token comment">&lt;!--class和数组绑定在一块 把数组成员作为标签的类名--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>classArr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{text1}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    
<span class="token comment">&lt;!--class和对象绑定在一块  如果对象的属性值为true 则属性名会作为标签的类名--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>classObj<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{text1}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        a<span class="token operator">:</span><span class="token number">21342</span><span class="token punctuation">,</span>
        text<span class="token operator">:</span><span class="token string">'样式绑定'</span><span class="token punctuation">,</span>
        text1<span class="token operator">:</span><span class="token string">'类名绑定'</span><span class="token punctuation">,</span>
        classArr<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'heaven'</span><span class="token punctuation">,</span><span class="token string">'version'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        classObj<span class="token operator">:</span><span class="token punctuation">{</span>
            show<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            isActive<span class="token operator">:</span><span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        styleObj<span class="token operator">:</span><span class="token punctuation">{</span>
            backgroundColor<span class="token operator">:</span><span class="token string">&quot;lightblue&quot;</span><span class="token punctuation">,</span>
            color<span class="token operator">:</span><span class="token string">&quot;pink&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        styleArr<span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                backgroundColor<span class="token operator">:</span><span class="token string">&quot;blue&quot;</span><span class="token punctuation">,</span>
                fontSize<span class="token operator">:</span><span class="token string">&quot;20px&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                color<span class="token operator">:</span><span class="token string">&quot;grey&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-3-v-if"><a href="#_3-3-v-if" class="header-anchor">#</a> 3.3 v-if</h3> <p>控制单个dom元素是否渲染(<strong>不是通过css</strong>)在页面上，如果是true，则渲染在页面上 反之不渲染，
如果需要控制多个dom元素的显示，只要在template标签上使用v-if指令即可。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!--v-if 控制单个dom元素显示 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>number===1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>number===2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是div1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>number===3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是div2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>我是div3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    
<span class="token comment">&lt;!--v-if 控制多个dom元素显示--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>isShow<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--v-if v-else控制多个dom元素显示--&gt;</span>   
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loginType === 'username'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>用户名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>请输入用户名<span class="token punctuation">&quot;</span></span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-else</span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>密码<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>请输入密码<span class="token punctuation">&quot;</span></span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击切换<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>data<span class="token operator">:</span><span class="token punctuation">{</span>
	isShow<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
	number<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
	loginType<span class="token operator">:</span><span class="token string">'password'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
methods<span class="token operator">:</span><span class="token punctuation">{</span>
	<span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>loginType<span class="token operator">===</span><span class="token string">'username'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>loginType <span class="token operator">=</span> <span class="token string">'password'</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>loginType <span class="token operator">=</span> <span class="token string">'username'</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-4-v-show"><a href="#_3-4-v-show" class="header-anchor">#</a> 3.4 v-show</h3> <p>控制单个dom元素是否显示（<strong>通过css property display</strong>）在页面上，如果是true则显示在页面上，反之不显示。</p> <p>当需要<strong>频繁</strong>的切换dom元素的显示时，使用v-show  节省频繁创建dom，销毁dom元素的开销。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>isShow<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>data<span class="token operator">:</span><span class="token punctuation">{</span>
	isShow<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-5-自定义局部指令"><a href="#_3-5-自定义局部指令" class="header-anchor">#</a> 3.5 自定义局部指令</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>pink'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是自定义指令<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>directives<span class="token operator">:</span><span class="token punctuation">{</span>    <span class="token comment">//存放所有的自定义指令</span>
	color<span class="token operator">:</span><span class="token punctuation">{</span>     <span class="token comment">//定义指令的名字</span>
		<span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binging</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token comment">//修改dom元素的style</span>
		<span class="token comment">// console.log(arguments)</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'bind执行'</span><span class="token punctuation">)</span>
		el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> binging<span class="token punctuation">.</span>value
		<span class="token comment">// debugger</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binging</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token comment">//执行js方法</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'inserted执行'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">//update(){</span>
		<span class="token comment">//console.log('update执行')</span>
	<span class="token comment">//},</span>
	<span class="token comment">//componentUpdated(){</span>
		<span class="token comment">//console.log('componentUpdated执行')</span>
	<span class="token comment">//}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4-侦听器-过滤器"><a href="#_4-侦听器-过滤器" class="header-anchor">#</a> 4. 侦听器,过滤器</h2> <h3 id="_4-1-侦听器watch"><a href="#_4-1-侦听器watch" class="header-anchor">#</a> 4.1 侦听器watch</h3> <ul><li>通过<strong>使用数组的变异方法</strong>，watch是可以监控到的。</li> <li>修改数组的索引改变数组，watch是不可以监控到的。</li> <li>通过修改对象person的属性，watch是可以监控到的。</li> <li>这样的监视器默认是可以监控对象person内部任一个属性的变化。</li> <li><strong>如果只需要监视对象person的某一个属性(例如name)的变化 则写成&quot;person.name&quot;</strong>。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>data<span class="token operator">:</span><span class="token punctuation">{</span>
    number<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    arr<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    person<span class="token operator">:</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">'shiyue'</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span><span class="token number">29</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    arr1<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">'shiyueqi'</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span><span class="token number">28</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">'十月'</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span><span class="token number">29</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>watch<span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//放置侦听器</span>
	number<span class="token operator">:</span><span class="token punctuation">{</span>    <span class="token comment">//安装number的监听器</span>
		<span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">//当number变化时触发</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'number数据变化了 我监听到了'</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token comment">// immediate:true, // 数据初始化时 也会执行handler函数</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	arr<span class="token operator">:</span><span class="token punctuation">{</span>  <span class="token comment">//安装arr的监听器</span>
		<span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">//当arr变化时触发</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'arr数据变化了  我监听到了'</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token string">&quot;person.name&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//安装person的监听器  该监视器 可以监控对象内部任一个属性的变化</span>
		<span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">//当person变化时触发</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'person数据变化了  我监听到了'</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		deep<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//监控到对象属性的改变</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	arr1<span class="token operator">:</span><span class="token punctuation">{</span>
		<span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'arr1数据变化了 我监控到了'</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		deep<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-2-过滤器"><a href="#_4-2-过滤器" class="header-anchor">#</a> 4.2 过滤器</h3> <ul><li>过滤器的作用 是<strong>不改变vue数据，只改变数据在页面中的展示。</strong></li> <li>过滤器函数默认接受的参数是管道符左侧的数据，即默认只接受一个数据。</li> <li>如果需要过滤器函数接受多个数据，需要手动传参。</li> <li>过滤器函数在插值符号{{}} 和 属性绑定v-bind中生效。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>data<span class="token operator">:</span><span class="token punctuation">{</span>
	a<span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">,</span>
	number1<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span>
	number2<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>价格：{{a|heaven}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>	//$12
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>价格：{{a|heaven|fn(2,3)}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>filters<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">heaven</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// console.log(data,'heaven过滤器函数 接收到了管道符左侧的数据')</span>
        <span class="token keyword">return</span> <span class="token string">'$'</span><span class="token operator">+</span>data
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span><span class="token string">'fn过滤器函数 接收到了管道符左侧的数据'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="_5-vue生命周期函数"><a href="#_5-vue生命周期函数" class="header-anchor">#</a> 5. Vue生命周期函数</h2> <h3 id="_1-beforecreate"><a href="#_1-beforecreate" class="header-anchor">#</a> 1. beforeCreate</h3> <p>在实例初始化之后，数据观测 (data observer) 和 event/watcher 事件配置之前被调用。</p> <h3 id="_2-created"><a href="#_2-created" class="header-anchor">#</a> 2. created</h3> <p>在实例创建完成后被立即调用。在这一步，实例已完成以下的配置：数据观测 (data observer)，属性和方法的运算，watch/event 事件回调。然而，挂载阶段还没开始，<code>$el</code> 属性目前尚不可用。</p> <h3 id="_3-beforemount"><a href="#_3-beforemount" class="header-anchor">#</a> 3. beforeMount</h3> <p>在挂载开始之前被调用：相关的 <code>render</code> 函数首次被调用.</p> <h3 id="_4-mounted"><a href="#_4-mounted" class="header-anchor">#</a> 4. mounted</h3> <p>实例被挂载后调用，这时 <code>el</code> 被新创建的 <code>vm.$el</code> 替换了。 如果根实例挂载到了一个文档内的元素上，当<code>mounted</code>被调用时<code>vm.$el</code>也在文档内。</p> <p>注意 <code>mounted</code> <strong>不会</strong>保证所有的子组件也都一起被挂载。如果你希望等到整个视图都渲染完毕，可以在 <code>mounted</code> 内部使用 <a href="https://cn.vuejs.org/v2/api/#vm-nextTick" target="_blank" rel="noopener noreferrer">vm.$nextTick<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>：</p> <h3 id="_5-beforeupdate"><a href="#_5-beforeupdate" class="header-anchor">#</a> 5. beforeUpdate</h3> <p>数据更新时调用，发生在虚拟 DOM 打补丁之前。这里适合在更新之前访问现有的 DOM，比如手动移除已添加的事件监听器。</p> <h3 id="_6-updated"><a href="#_6-updated" class="header-anchor">#</a> 6. updated</h3> <p>由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。</p> <h3 id="_7-activated"><a href="#_7-activated" class="header-anchor">#</a> 7. activated</h3> <p>被 keep-alive 缓存的组件激活时调用。</p> <h3 id="_8-deactivated"><a href="#_8-deactivated" class="header-anchor">#</a> 8. deactivated</h3> <p>被 keep-alive 缓存的组件停用时调用。</p> <h3 id="_9-beforedestroy"><a href="#_9-beforedestroy" class="header-anchor">#</a> 9. beforeDestroy</h3> <p>实例销毁之前调用。在这一步，实例仍然完全可用。</p> <h3 id="_10-destroyed"><a href="#_10-destroyed" class="header-anchor">#</a> 10. destroyed</h3> <p>实例销毁后调用。该钩子被调用后，对应 Vue 实例的所有指令都被解绑，所有的事件监听器被移除，所有的子实例也都被销毁。</p> <h3 id="_11-errorcaptured"><a href="#_11-errorcaptured" class="header-anchor">#</a> 11. errorCaptured</h3> <p>2.5.0+ 新增</p> <p>当捕获一个来自子孙组件的错误时被调用。此钩子会收到三个参数：错误对象、发生错误的组件实例以及一个包含错误来源信息的字符串。此钩子可以返回 <code>false</code> 以阻止该错误继续向上传播。</p> <h2 id="_6-props"><a href="#_6-props" class="header-anchor">#</a> 6. props</h2> <h3 id="_6-1-组件的data选项"><a href="#_6-1-组件的data选项" class="header-anchor">#</a> 6.1 组件的data选项</h3> <p><strong>子组件中</strong>的数据<strong>data必须是个函数，返回一个对象，在该对象中定义组件的数据</strong>。</p> <p>意义：组件复用，<strong>每次使用子组件时，data的数据都是函数执行后返回的不同对象</strong>。</p> <h3 id="_6-2-props数据检测"><a href="#_6-2-props数据检测" class="header-anchor">#</a> 6.2 props数据检测</h3> <p>子组件接收数据时数据检测<code>props:{ }</code>，若不需要检测，<code>props:[ ]</code>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>props<span class="token operator">:</span><span class="token punctuation">{</span>
    msg<span class="token operator">:</span><span class="token punctuation">{</span>   <span class="token comment">//接受msg属性的检测</span>
        type<span class="token operator">:</span>String<span class="token punctuation">,</span>    <span class="token comment">//数据类型检测</span>
        required<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//是否必传</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    a<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token keyword">default</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span>    <span class="token comment">//当父组件没有传递该属性 则默认值生效</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">validator</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token comment">//自定义校验规则  返回true则验证通过 反之验证不通过</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token operator">&gt;</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-3-父组件传递数据给子组件"><a href="#_6-3-父组件传递数据给子组件" class="header-anchor">#</a> 6.3 父组件传递数据给子组件</h3> <p><strong>通过属性绑定即可</strong></p> <ul><li>$props  存放子组件接受的父组件数据</li> <li>$attrs  存放子组件没有接受的父组件数据</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//父组件数据</span>
data<span class="token operator">:</span><span class="token punctuation">{</span>
	msg<span class="token operator">:</span><span class="token string">'我是根组件的数据'</span><span class="token punctuation">,</span>
	arr<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	person<span class="token operator">:</span><span class="token punctuation">{</span>
		name<span class="token operator">:</span><span class="token string">'shiyue'</span><span class="token punctuation">,</span>
		age<span class="token operator">:</span><span class="token number">29</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>Son
	<span class="token operator">:</span>msg<span class="token operator">=</span><span class="token string">&quot;msg&quot;</span>
	<span class="token operator">:</span>arr<span class="token operator">=</span><span class="token string">&quot;arr&quot;</span>
	<span class="token operator">:</span>person<span class="token operator">=</span><span class="token string">&quot;person&quot;</span>
	v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;person&quot;</span>
<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Son<span class="token operator">&gt;</span>
</code></pre></div><p>子组件中接收</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>props<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'msg'</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="_6-4-子组件传递数据给父组件"><a href="#_6-4-子组件传递数据给父组件" class="header-anchor">#</a> 6.4 子组件传递数据给父组件</h3> <p>1.父组件传递一个xxx方法给子组件。</p> <p>2.在子组件上定义一个方法,触发时发射一个$emit('xxx',data)。</p> <p>3.在父组件xxx方法中就能拿到子组件传递的数据。</p> <p><strong>子组件要修改父组件的数据也是同样的方法，让父组件自己修改</strong>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>Son @xxx<span class="token operator">=</span><span class="token string">&quot;handleXXX&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Son<span class="token operator">&gt;</span>
<span class="token comment">//父组件中拿到子组件传递的数据</span>
<span class="token function">handleXXX</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
	<span class="token comment">// console.log('xxx事件被触发了  我监控到了')</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template id<span class="token operator">=</span><span class="token string">&quot;Son&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        我是子组件
        <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;handleClick&quot;</span><span class="token operator">&gt;</span>点击传递数据给父组件<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token comment">//子组件中的数据</span>
<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span>
		msg<span class="token operator">:</span><span class="token string">'我是子组件的数据'</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">//子组件中的方法</span>
<span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token comment">//发射</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-5-非父子组件传递数据-事件车"><a href="#_6-5-非父子组件传递数据-事件车" class="header-anchor">#</a> 6.5 非父子组件传递数据,事件车</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>Father<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>Son1<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Son1<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>Son2<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Son2<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Father<span class="token operator">&gt;</span>
</code></pre></div><p>son1传递数据给son2</p> <p>1.在全局生成事件车</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> eventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>2.在son1中发射<strong>eventBus.$emit('事件',data)</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>eventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
</code></pre></div><p>3.在son2中拿到son1传递的数据<strong>eventBus.$on('事件',callBack)</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>eventBus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_7-依赖注入"><a href="#_7-依赖注入" class="header-anchor">#</a> 7. 依赖注入</h2> <p><strong>provide</strong>选项允许我们指定我们想要<strong>提供</strong>给后代组件的<strong>数据/方法</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function-variable function">provide</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
	<span class="token keyword">return</span> <span class="token punctuation">{</span> 
		getMap<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>getMap<span class="token punctuation">,</span><span class="token comment">//父组件的方法</span>
		msg<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">,</span><span class="token comment">//父组件的数据</span>
	<span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
</code></pre></div><p>然后在任何后代组件里，我们都可以使用 <code>inject</code> 选项来接收指定的我们想要添加在这个实例上的属性：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>inject<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'getMap'</span><span class="token punctuation">,</span><span class="token string">'msg'</span><span class="token punctuation">]</span>
</code></pre></div><h2 id="_8-动态组件"><a href="#_8-动态组件" class="header-anchor">#</a> 8. 动态组件</h2> <p>动态组件在进行不同组件的切换时</p> <p>是直接销毁（销毁的是不显示的组件）和创建（创建显示的组件）的</p> <p>使用keep-alive组件可以让动态组件缓存</p> <p><strong>include='son1'  只有son1组件可以被缓存</strong></p> <p><strong>exclude='son2'  除了son1组件都可以被缓存</strong></p> <p>include/exclude 都是匹配组件的name来判断组件是否缓存的</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>keep<span class="token operator">-</span>alive include<span class="token operator">=</span><span class="token string">'heaven1'</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>component <span class="token operator">:</span>is<span class="token operator">=</span><span class="token string">&quot;is&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>component<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>keep<span class="token operator">-</span>alive<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;handleClick&quot;</span><span class="token operator">&gt;</span>点击切换组件<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token comment">//父组件中的数据</span>
data<span class="token operator">:</span><span class="token punctuation">{</span>
    is<span class="token operator">:</span><span class="token string">'son1'</span>
<span class="token punctuation">}</span>
<span class="token comment">//父组件的方法</span>
<span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>is<span class="token operator">===</span><span class="token string">'son1'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>is <span class="token operator">=</span> <span class="token string">'son2'</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>is <span class="token operator">=</span> <span class="token string">'son1'</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//son1组件的name</span>
name<span class="token operator">:</span><span class="token string">'heaven1'</span><span class="token punctuation">,</span><span class="token comment">//name属性提供给keep-alive的include属性</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//son2组件的name</span>
name<span class="token operator">:</span><span class="token string">'heaven2'</span><span class="token punctuation">,</span><span class="token comment">//name属性提供给keep-alive的include属性</span>
</code></pre></div><h2 id="_9-递归组件"><a href="#_9-递归组件" class="header-anchor">#</a> 9. 递归组件</h2> <h3 id="_9-1在组件内部调用自身组件-通过v-if控制递归"><a href="#_9-1在组件内部调用自身组件-通过v-if控制递归" class="header-anchor">#</a> 9.1在组件内部调用自身组件,通过v-if控制递归</h3> <p>示例</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//要渲染data数据</span>
data<span class="token operator">:</span><span class="token punctuation">{</span>
    list<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            title<span class="token operator">:</span> <span class="token string">'湖南省'</span><span class="token punctuation">,</span>
            children<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    title<span class="token operator">:</span> <span class="token string">'长沙市'</span><span class="token punctuation">,</span>
                    children<span class="token operator">:</span> <span class="token punctuation">[</span>
                        <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'岳麓区'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'芙蓉区'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">]</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'衡阳市'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'株洲市'</span> <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            title<span class="token operator">:</span> <span class="token string">'安徽省'</span><span class="token punctuation">,</span>
            children<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    title<span class="token operator">:</span> <span class="token string">'阜阳市'</span><span class="token punctuation">,</span>
                    children<span class="token operator">:</span> <span class="token punctuation">[</span>
                        <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'颍泉区'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'涡阳区'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'蒙城县'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">]</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    title<span class="token operator">:</span> <span class="token string">'芜湖市'</span><span class="token punctuation">,</span>
                    children<span class="token operator">:</span> <span class="token punctuation">[</span>
                        <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'无为县'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">]</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'合肥市'</span> <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><strong>v-if判断是否有children，注意调用时传递的数据属性，要和v-for遍历一致</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>treelist<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item in list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            {{item.title}}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.children<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tree-list</span> <span class="token attr-name">:list</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.children<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tree-list</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_10-v-model在组件上使用"><a href="#_10-v-model在组件上使用" class="header-anchor">#</a> 10. v-model在组件上使用</h2> <p>期望</p> <ul><li>父组件传递数据给子组件。</li> <li>子组件的input要和父组件传递过来的属性做双向数据绑定。</li></ul> <p>思路：</p> <p>组件的input每次输入时都让父组件更新自己的数据</p> <div class="language-html extra-class"><pre class="language-html"><code>//父组件数据
data:{
    value:'我是父组件数据'
}
//给子组件绑定v-model
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>son</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click.native</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>son</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code>//子组件接收value
props:['value']
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>son<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$emit('input',$event.target.value)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>一个组件上的 v-model 默认会利用名为 value 的 prop 和名为 input 的事件，但是像单选框、复选框等类型的输入控件可能会将 value attribute 用于不同的目的。<strong>model 选项可以用来避免这样的冲突：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'base-checkbox'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  model<span class="token operator">:</span> <span class="token punctuation">{</span>
    prop<span class="token operator">:</span> <span class="token string">'checked'</span><span class="token punctuation">,</span>
    event<span class="token operator">:</span> <span class="token string">'change'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    checked<span class="token operator">:</span> Boolean
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;input
      type=&quot;checkbox&quot;
      v-bind:checked=&quot;checked&quot;
      v-on:change=&quot;$emit('change', $event.target.checked)&quot;
    &gt;
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><a href="https://cn.vuejs.org/v2/guide/components-custom-events.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%E7%9A%84-v-model" target="_blank" rel="noopener noreferrer">Vue官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="_11-插槽"><a href="#_11-插槽" class="header-anchor">#</a> 11. 插槽</h2> <h3 id="_11-1-匿名具名插槽slot"><a href="#_11-1-匿名具名插槽slot" class="header-anchor">#</a> 11.1 匿名具名插槽slot</h3> <p><strong>keep-alive component</strong> <strong>slot是vue内置的全局组件</strong></p> <p>插槽的默认名字是default(匿名插槽) ，也可以通过name属性设置插槽的名字（具名插槽）。</p> <p>1.如果需要往具名插槽中插入数据，注：所有的数据都源自当前组件的父组件。本例中是在根组件中使用了heaven组件，所以heaven组件中插槽数据的来源是根组件。</p> <p>2.必须把数据用template包裹。</p> <p>3.并给template使用v-slot  该指令的简写形式  例如v-slot:xxx  --&gt; #xxx。</p> <p>如果组件中只有一个插槽</p> <p>1.则v-slot指令可以直接写在组件上</p> <p>2.往插槽中插入的数据不需要用template包裹。</p> <div class="language-vue extra-class"><pre class="language-vue"><code>//根组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>heaven</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#xxx</span> <span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是插入到xxx槽中的数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是插入到xxx槽中的数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#yyy</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是插入到yyy槽中的数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是插入到yyy槽中的数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是插入到yyy槽中的数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是插入到yyy槽中的数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>heaven</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code>//heaven组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>heaven<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>我是heaven组件的标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是heaven的内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>xxx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>yyy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_11-2-作用域插槽"><a href="#_11-2-作用域插槽" class="header-anchor">#</a> 11.2 作用域插槽</h3> <p><strong>插槽可以绑定属性</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//根组件</span>
<span class="token comment">//heaven组件只有一个插槽,指令写在组件上</span>
<span class="token operator">&lt;</span>heaven #xxx<span class="token operator">=</span><span class="token string">&quot;{data1,data2,data3}&quot;</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
		<span class="token punctuation">{</span><span class="token punctuation">{</span>data1<span class="token punctuation">}</span><span class="token punctuation">}</span>
		<span class="token punctuation">{</span><span class="token punctuation">{</span>data2<span class="token punctuation">}</span><span class="token punctuation">}</span>
		<span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in data3&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>heaven<span class="token operator">&gt;</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//msg1,msg2,arr都来源于自身heaven组件</span>
<span class="token operator">&lt;</span>template id<span class="token operator">=</span><span class="token string">&quot;heaven&quot;</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>我是heaven组件的标题<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>我是heaven的内容<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">&quot;xxx&quot;</span> <span class="token operator">:</span>data1<span class="token operator">=</span><span class="token string">&quot;msg1&quot;</span> <span class="token operator">:</span>data2<span class="token operator">=</span><span class="token string">&quot;msg2&quot;</span> <span class="token operator">:</span>data3<span class="token operator">=</span><span class="token string">&quot;arr&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_12-混入mixins"><a href="#_12-混入mixins" class="header-anchor">#</a> 12. 混入mixins</h2> <p>混入的作用：<strong>抽离组件的公共数据和方法</strong>。</p> <p>混入是一个对象，具有组件的所有选项。</p> <p><strong>混入规则如下：</strong></p> <ul><li>对于生命周期函数，混入和组件不重复，并且混入的生命周期执行早于组件的生命周期。</li> <li>对于<code>data computed methods</code> 混入和组件不可以重复，这几个选项都已组件为准。</li></ul> <h3 id="_12-1-局部混入"><a href="#_12-1-局部混入" class="header-anchor">#</a> 12.1 局部混入</h3> <p>1.创建混入</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> mixin1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            a<span class="token operator">:</span><span class="token number">1</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> mixin2 <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">{</span>
			b<span class="token operator">:</span><span class="token number">2</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>2.在需要使用混入的组件内</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>mixins<span class="token operator">:</span><span class="token punctuation">[</span>mixin1<span class="token punctuation">,</span>mixin2<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_12-2-全局混入"><a href="#_12-2-全局混入" class="header-anchor">#</a> 12.2 全局混入</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//所有实例都会得到混入</span>
Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            msg1<span class="token operator">:</span><span class="token string">'我是混入的数据'</span><span class="token punctuation">,</span>
            a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            b<span class="token operator">:</span><span class="token number">2</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    computed<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>b
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是混入的函数'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// created(){</span>
    <span class="token comment">//     console.log('我是混入的生命周期')</span>
    <span class="token comment">// }</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_13-vue-router路由"><a href="#_13-vue-router路由" class="header-anchor">#</a> 13. vue-router路由</h2> <p><a href="https://router.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">官网文档地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="_13-1-声明式"><a href="#_13-1-声明式" class="header-anchor">#</a> 13.1 声明式</h3> <h4 id="_13-1-1-路由表"><a href="#_13-1-1-路由表" class="header-anchor">#</a> 13.1.1 路由表</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//router/index.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../views/home/Home'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        path<span class="token operator">:</span><span class="token string">'/'</span><span class="token punctuation">,</span>
        redirect<span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span><span class="token comment">//当路径是/,重定向到home</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        path<span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span><span class="token comment">//pathname</span>
        name<span class="token operator">:</span><span class="token string">'homeLink'</span><span class="token punctuation">,</span><span class="token comment">//路由的名字</span>
        component<span class="token operator">:</span><span class="token string">'Home'</span><span class="token punctuation">,</span><span class="token comment">//组件</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        path<span class="token operator">:</span><span class="token string">'/article/:id'</span><span class="token punctuation">,</span><span class="token comment">//动态路由path</span>
        name<span class="token operator">:</span><span class="token string">'articleLink'</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span>Article<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    routes<span class="token punctuation">,</span>
    mode<span class="token operator">:</span><span class="token string">'hash'</span><span class="token punctuation">,</span><span class="token comment">//使用的是window.location.hash	hash兼容性好</span>
    <span class="token comment">//mode:'history',	//window.history.pushState</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//main.js</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">render</span><span class="token operator">:</span><span class="token parameter">h</span><span class="token operator">=&gt;</span><span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
    router
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span><span class="token punctuation">&gt;</span></span>不传递数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>用户中心<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span><span class="token punctuation">&gt;</span></span>传递query数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{path:'/home',query:{msg:this.msg}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{path:'/user',query:{msg:'我是传递给user组件的数据'}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>用户中心<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span><span class="token punctuation">&gt;</span></span>传递params数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--&lt;router-link :to=&quot;{path:'/article',params:{id:1}}&quot;&gt;第1篇文章&lt;/router-link&gt;--&gt;</span>
    <span class="token comment">&lt;!--&lt;router-link :to=&quot;{path:'/article',params:{id:2}}&quot;&gt;第2篇文章&lt;/router-link&gt;--&gt;</span>
    <span class="token comment">&lt;!--&lt;router-link :to=&quot;{path:'/article',params:{id:3}}&quot;&gt;第3篇文章&lt;/router-link&gt;--&gt;</span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{name:'articleLink',params:{id:1}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>第1篇文章<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{name:'articleLink',params:{id:2}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>第2篇文章<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{name:'articleLink',params:{id:3}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>第3篇文章<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>对应路由组件中$route拿到数据query和params</strong></p> <h3 id="_13-2-编程式的导航"><a href="#_13-2-编程式的导航" class="header-anchor">#</a> 13.2 编程式的导航</h3> <p>除了使用 <code>&lt;router-link&gt;</code> 创建 a 标签来定义导航链接，我们还可以借助 <strong>$router</strong> 的实例方法，通过编写代码来实现。</p> <p>注意：<strong>编程式导航如果提供了 path，params 会被忽略，取而代之的是下面例子的做法，你需要提供路由的 name 或手写完整的带有参数的 path：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> userId <span class="token operator">=</span> <span class="token string">'123'</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> params<span class="token operator">:</span> <span class="token punctuation">{</span> userId <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; /user/123</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/user/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>userId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; /user/123</span>

router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/user'</span><span class="token punctuation">,</span> params<span class="token operator">:</span> <span class="token punctuation">{</span> userId <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; /user 这里的 params 不生效</span>
</code></pre></div><p><strong>$router.push        会在原来的历史路径中累加</strong></p> <p><strong>$router.replace     会替换原来的历史路径</strong></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>goHome<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击跳转到home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>goUser<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击跳转到user<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>goArticle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击跳转到article<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>goBack<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>后退<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">goHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">)</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		path<span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
		query<span class="token operator">:</span><span class="token punctuation">{</span>
			msg<span class="token operator">:</span><span class="token string">'我是传递给home组件的数据'</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">goUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'/user'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">goArticle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		name<span class="token operator">:</span><span class="token string">'articleLink'</span><span class="token punctuation">,</span><span class="token comment">//这是一条动态路径,</span>
		params<span class="token operator">:</span><span class="token punctuation">{</span><span class="token comment">//params.id会映射到路径,可传递其他数据</span>
			id<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
			data<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">,</span><span class="token comment">//arr是要传递的数据</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>	<span class="token comment">//后退到上一个历史路径</span>
	<span class="token comment">// this.$router.go(-1)</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_13-3-路由表抽离"><a href="#_13-3-路由表抽离" class="header-anchor">#</a> 13.3 路由表抽离</h3> <p><strong>抽离路由分开管理</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//  require.context 该函数可以循环递归指定目录里面的指定后缀名的文件</span>
<span class="token keyword">const</span> requireContext <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'./'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token regex">/\.js$/</span><span class="token punctuation">)</span>
requireContext<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">filename</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>filename<span class="token operator">===</span><span class="token string">'./index.js'</span><span class="token punctuation">)</span><span class="token keyword">return</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span>
    <span class="token keyword">const</span> routerModule <span class="token operator">=</span> <span class="token function">requireContext</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span>
    routes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>routes<span class="token punctuation">,</span>routerModule<span class="token punctuation">.</span>default<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    routes<span class="token punctuation">,</span>
    mode<span class="token operator">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span>
    <span class="token comment">// linkActiveClass: 'heaven',   //把router-link-active的名字修改成执行的名字</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//在已经配置好路由之后  再次配置新的路由</span>
router<span class="token punctuation">.</span><span class="token function">addRoutes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        path<span class="token operator">:</span><span class="token string">'/user'</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span>User<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        path<span class="token operator">:</span><span class="token string">'/login'</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span>Login<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_13-4-异步加载路由组件"><a href="#_13-4-异步加载路由组件" class="header-anchor">#</a> 13.4 异步加载路由组件</h3> <p><strong>1.同步组件</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//在路由表中</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../views/Home'</span>
<span class="token keyword">import</span> User <span class="token keyword">from</span> <span class="token string">'../views/User'</span>
</code></pre></div><p>2.异步组件</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">Home</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;b&quot; */</span><span class="token string">'../views/Home'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">User</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;b&quot; */</span><span class="token string">'../views/User'</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* webpackChunkName: &quot;b&quot; */</span>	
<span class="token comment">//魔法注释，打包时webpack会识别ChunkName，根据ChunkName进行分割</span>
</code></pre></div><h3 id="_13-5-跳转路由，内容高度超过视口，容易出现跳转后，scroll未在最顶部"><a href="#_13-5-跳转路由，内容高度超过视口，容易出现跳转后，scroll未在最顶部" class="header-anchor">#</a> 13.5 跳转路由，内容高度超过视口，容易出现跳转后，scroll未在最顶部</h3> <p>解决方案1,视具体情况,有时是路由没变化,数据变化也希望跳转到顶部</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_14-vuex仓库"><a href="#_14-vuex仓库" class="header-anchor">#</a> 14. vuex仓库</h2> <h3 id="_14-1-创建仓库"><a href="#_14-1-创建仓库" class="header-anchor">#</a> 14.1 创建仓库</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//store/index.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//仓库的数据（state）只有仓库自己才有权利修改自己的state数据</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    state<span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//存放仓库的初始数据</span>
        count<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span>
        mans<span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'heaven'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">28</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'男'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'老王'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'男'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'新一'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'男'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'海文的..'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">21</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'女'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    mutations<span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//存放修改仓库数据的同步方法</span>
        <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// console.log('我被触发了')</span>
            state<span class="token punctuation">.</span>count <span class="token operator">+=</span> number
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    getters<span class="token operator">:</span><span class="token punctuation">{</span><span class="token comment">//相当于组件的计算属性  基于state里面的数据计算出来的</span>
        <span class="token function">young</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment">//找出mans中小于20岁的</span>
            <span class="token comment">// console.log(arguments)</span>
            <span class="token comment">// console.log(getters, xxx)</span>
            <span class="token comment">// return state.mans.filter(man=&gt;man.age&lt;=20)</span>
            <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//仓库计算属性return一个函数,可以传参</span>
                <span class="token keyword">return</span> state<span class="token punctuation">.</span>mans<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">man</span><span class="token operator">=&gt;</span>man<span class="token punctuation">.</span>age<span class="token operator">&lt;=</span>age<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">youngLength</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>getters</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// return state.mans.filter(man=&gt;man.age&lt;=20).length</span>
            <span class="token keyword">return</span> getters<span class="token punctuation">.</span>young<span class="token punctuation">.</span>length
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span><span class="token punctuation">{</span>   <span class="token comment">//存放一些异步修改仓库数据的方法</span>
        <span class="token function">asyncIncrement</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">}</span><span class="token punctuation">,</span>number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token comment">//解构传参,异步增加count值</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                    <span class="token comment">//再次提交一个mutations里面的同步行为</span>
                    <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">,</span>number<span class="token punctuation">)</span>
                    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'promise状态为resolve'</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token comment">// state.count ++</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//main.js</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
    store<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_14-2-在组件内访问仓库"><a href="#_14-2-在组件内访问仓库" class="header-anchor">#</a> 14.2 在组件内访问仓库</h3> <p><strong>1.访问仓库数据</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token comment">//访问state数据</span>
</code></pre></div><p><strong>2.访问计算属性</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>$store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span><span class="token function">young</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//young计算属性返回的是一个函数,可以传参</span>
$store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>youngLength<span class="token punctuation">;</span>
</code></pre></div><p><strong>3.提交mutations</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//在提交mutations选项里定义的行为时只能传递一个数据</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment">//传递对象在提交时能传递多个数据</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	type<span class="token operator">:</span><span class="token string">'increment'</span><span class="token punctuation">,</span><span class="token comment">//只会触发对应type的方法</span>
	numb1<span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
	numb2<span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
	numb3<span class="token operator">:</span><span class="token number">5</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//传递的对象在mutations的increment第二个参数接收,接收的也是对象</span>
</code></pre></div><p><strong>4.提交actions</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//提交actions选项里面定义的行为</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'asyncIncrement'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre></div><h2 id="_14-3-仓库抽离管理及modules"><a href="#_14-3-仓库抽离管理及modules" class="header-anchor">#</a> 14.3 仓库抽离管理及modules</h2> <h4 id="_14-3-1-目录结构"><a href="#_14-3-1-目录结构" class="header-anchor">#</a> 14.3.1 目录结构</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">/</span>store
	index<span class="token punctuation">.</span>js<span class="token punctuation">;</span><span class="token comment">//存放仓库的初始数据,整合仓库</span>
	actions<span class="token punctuation">.</span>js
	getters<span class="token punctuation">.</span>js
	mutations<span class="token punctuation">.</span>js
	type<span class="token punctuation">.</span>js<span class="token punctuation">;</span><span class="token comment">//该文件管理所有的能够修改仓库数据的动作,使得项目的容错率变高</span>
	<span class="token operator">/</span>mudules
		moduleA<span class="token punctuation">.</span>js
</code></pre></div><p><strong>1. type.js//该文件管理所有的能够修改仓库数据的动作  使得项目的容错率变高</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">INCREMENT</span> <span class="token operator">=</span> <span class="token string">'increment'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">ASYNCINCREMENT</span> <span class="token operator">=</span> <span class="token string">'asyncrement'</span>
</code></pre></div><p><strong>2. getters.js</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token function">young</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment">//找出mans中小于20岁的</span>
		<span class="token comment">// console.log(arguments)</span>
		<span class="token comment">// console.log(getters, xxx)</span>
		<span class="token comment">// return state.mans.filter(man=&gt;man.age&lt;=20)</span>
		<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">return</span> state<span class="token punctuation">.</span>mans<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">man</span><span class="token operator">=&gt;</span>man<span class="token punctuation">.</span>age<span class="token operator">&lt;=</span>age<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function">youngLength</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>getters</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> getters<span class="token punctuation">.</span>young<span class="token punctuation">.</span>length
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>3. mutations.js</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token constant">INCREMENT</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./type.js'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span> <span class="token comment">//存放修改仓库数据的同步方法</span>
	<span class="token punctuation">[</span><span class="token constant">INCREMENT</span><span class="token punctuation">]</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span>number<span class="token punctuation">)</span><span class="token punctuation">{</span>	<span class="token comment">//[]变量的写法</span>
		<span class="token comment">// console.log('我被触发了')</span>
		state<span class="token punctuation">.</span>count <span class="token operator">+=</span> number
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>4. actions.js</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token constant">ASYNCINCREMENT</span><span class="token punctuation">,</span><span class="token constant">INCREMENT</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./type.js'</span>
<span class="token keyword">export</span>  <span class="token keyword">default</span> <span class="token punctuation">{</span>   <span class="token comment">//存放一些修改仓库数据的方法</span>
	<span class="token punctuation">[</span><span class="token constant">ASYNCINCREMENT</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">{</span>commit<span class="token punctuation">}</span><span class="token punctuation">,</span>number<span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token comment">//异步增加count值</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
			<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
				<span class="token comment">//再次提交一个mutations里面的同步行为</span>
				<span class="token function">commit</span><span class="token punctuation">(</span><span class="token constant">INCREMENT</span><span class="token punctuation">,</span>number<span class="token punctuation">)</span>
				<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'promise状态为resolve'</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_14-4-仓库监听"><a href="#_14-4-仓库监听" class="header-anchor">#</a> 14.4 仓库监听</h3> <h4 id="_1-store-subscribe-handler-function"><a href="#_1-store-subscribe-handler-function" class="header-anchor">#</a> 1. store.subscribe(handler:function)</h4> <p>订阅 store 的 mutation。handler 会在每个 mutation 完成后调用，接收 mutation 和经过 mutation 后的状态作为参数：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mutation<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>type<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>payload<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>示例：监听到 mutation 完成调用后，将 store 数据保存到本地， localStorage ，这样就能保证刷新浏览器，不丢失数据。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//store中有个购物车商品数据,products:[]</span>
store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mutation<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'products'</span><span class="token punctuation">,</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>products<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_15-vue-config-js配置端口转发-解决开发环境跨域"><a href="#_15-vue-config-js配置端口转发-解决开发环境跨域" class="header-anchor">#</a> 15. vue.config.js配置端口转发(解决开发环境跨域)</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	devServer<span class="token operator">:</span><span class="token punctuation">{</span>
		proxy<span class="token operator">:</span><span class="token punctuation">{</span>
			<span class="token string">'/api'</span><span class="token operator">:</span><span class="token punctuation">{</span>	<span class="token comment">//'/api'开头进行转发</span>
				target<span class="token operator">:</span><span class="token string">'http://localhost:9000'</span><span class="token punctuation">,</span>	<span class="token comment">//转发到端口</span>
				pathRewrite<span class="token operator">:</span><span class="token punctuation">{</span>
					<span class="token string">'api'</span><span class="token operator">:</span><span class="token string">'/'</span>	<span class="token comment">//路径重写</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_16-mockjs模拟后台"><a href="#_16-mockjs模拟后台" class="header-anchor">#</a> 16. mockjs模拟后台</h2> <h3 id="_16-1-使用mock模拟数据"><a href="#_16-1-使用mock模拟数据" class="header-anchor">#</a> 16.1 使用mock模拟数据</h3> <p>安装</p> <div class="language-js extra-class"><pre class="language-js"><code>yarn add mockjs <span class="token operator">--</span>dev
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> Mock <span class="token operator">=</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mockjs'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">getUserList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    status<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>	<span class="token comment">//自定义的数据</span>
    <span class="token comment">//mock模拟数据写法	得到data数组</span>
	<span class="token string">&quot;data|1-10&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>	
		<span class="token string">&quot;number|+2&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
		name<span class="token operator">:</span><span class="token string">'@boolean'</span><span class="token punctuation">,</span>
		<span class="token comment">// time:&quot;@time&quot;,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">getUserList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//</span>
<span class="token comment">//得到数据</span>
</code></pre></div><h3 id="_16-2-目录结构，接口抽离管理"><a href="#_16-2-目录结构，接口抽离管理" class="header-anchor">#</a> 16.2 目录结构，接口抽离管理</h3> <p>示例,以expess为例</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">/</span>mock_server
	app<span class="token punctuation">.</span>js
	<span class="token operator">/</span>mock
		home<span class="token punctuation">.</span>js<span class="token comment">//存放home相关接口处理函数</span>
		user<span class="token punctuation">.</span>js
</code></pre></div><h4 id="app-js"><a href="#app-js" class="header-anchor">#</a> app.js</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> mockData <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">//app.js 需要合并mock文件夹中home和user这两个模块暴露的对象</span>
<span class="token comment">//获取mock文件的路径</span>
<span class="token keyword">const</span> mockPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'mock'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> files <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span>mockPath<span class="token punctuation">)</span>
<span class="token comment">//遍历,批量自动require</span>
files<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>mockData<span class="token punctuation">,</span><span class="token function">require</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>mockPath<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//遍历mockData对象,</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> mockData<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// console.log(key, '------',mockData[key])</span>
    <span class="token keyword">let</span> <span class="token punctuation">[</span>method<span class="token punctuation">,</span>url<span class="token punctuation">]</span> <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span>
    method <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// console.log(method, url,mockData[key])</span>
    app<span class="token punctuation">[</span>method<span class="token punctuation">]</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>mockData<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// app.get('/home/list', fn)</span>
<span class="token comment">// app.get('/user/list', fn)</span>
<span class="token comment">//9000端口  是基于mockjs 生成假的数据</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">9000</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'9000端口已经启动了'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="home-js"><a href="#home-js" class="header-anchor">#</a> <strong>home.js</strong></h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> Mock <span class="token operator">=</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mockjs'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">getUserList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    status<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;data|1-10&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token comment">// name:'@boolean',</span>
        <span class="token comment">// time:&quot;@time&quot;,</span>
        <span class="token string">&quot;number|+2&quot;</span><span class="token operator">:</span><span class="token number">2</span>
        <span class="token comment">// id:'@id',</span>
        <span class="token comment">// image:'@image(200x100,@color)',</span>
        <span class="token comment">// county:'@county(true)',</span>
        <span class="token comment">// paragraph:&quot;@paragraph&quot;,</span>
        <span class="token comment">// cparagraph:&quot;@cparagraph&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token comment">// &quot;data|1-2&quot;:10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'GET /home/list'</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token function">getUserList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'GET /home/banner'</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token function">getUserList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="user-js"><a href="#user-js" class="header-anchor">#</a> <strong>user.js</strong></h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> Mock <span class="token operator">=</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mockjs'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">getUserList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    status<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;data|1-10&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token comment">// name:'@boolean',</span>
        <span class="token comment">// time:&quot;@time&quot;,</span>
        <span class="token string">&quot;number|+2&quot;</span><span class="token operator">:</span><span class="token number">2</span>
        <span class="token comment">// id:'@id',</span>
        <span class="token comment">// image:'@image(200x100,@color)',</span>
        <span class="token comment">// county:'@county(true)',</span>
        <span class="token comment">// paragraph:&quot;@paragraph&quot;,</span>
        <span class="token comment">// cparagraph:&quot;@cparagraph&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token comment">// &quot;data|1-2&quot;:10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">/*
*   &quot;data|10&quot;:[1212]  数组成员10个,每项1212
*   &quot;data|1-10&quot;:[1212]  数组成员随机在1-10个
*
*   &quot;data|0-10&quot;:9       随机数字的范围在0-10
*    &quot;data|+2&quot;:2        随机数字 以2开始  每次累计2
*
* */</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'GET /user/list'</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token function">getUserList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_17-打包优化-首屏优化"><a href="#_17-打包优化-首屏优化" class="header-anchor">#</a> 17. 打包优化(首屏优化)</h2> <h4 id="_1-把不常改变的库放到-index-html-中，通过-cdn-引入"><a href="#_1-把不常改变的库放到-index-html-中，通过-cdn-引入" class="header-anchor">#</a> 1. 把不常改变的库放到 index.html 中，通过 cdn 引入</h4> <p>然后找到 build/webpack.base.conf.js 文件，在 module.exports = { } 中添加以下代码</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>externals<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string">'vue'</span><span class="token operator">:</span> <span class="token string">'Vue'</span><span class="token punctuation">,</span>
  <span class="token string">'vue-router'</span><span class="token operator">:</span> <span class="token string">'VueRouter'</span><span class="token punctuation">,</span>
  <span class="token string">'element-ui'</span><span class="token operator">:</span> <span class="token string">'ELEMENT'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>这样 webpack 就不会把 vue.js, vue-router, element-ui 库打包了。声明一下，我把 main.js 中对 element 的引入删掉了，不然我发现打包后的 app.css 还是会把 element 的 css 打包进去，删掉后就没了。
然后你打包就会发现 vendor 文件小了很多~</p> <h4 id="_2-vue-路由的懒加载"><a href="#_2-vue-路由的懒加载" class="header-anchor">#</a> 2. vue 路由的懒加载</h4> <p><code>import</code>或者<code>require</code>懒加载。你打包就会发现，多了很多 1.xxxxx.js；2.xxxxx.js 等等，而 vendor.xxx.js 没了，剩下 app.js 和 manifest.js，而且 app.js 还很小，我这里是 100k 多一点。</p> <p><strong>懒加载是可能出现负优化的,谨慎使用</strong></p> <h4 id="_3-不生成-map-文件"><a href="#_3-不生成-map-文件" class="header-anchor">#</a> 3. 不生成 map 文件</h4> <p>找到 config/index.js，修改为 <code>productionSourceMap: false</code></p> <h4 id="_4-vue-组件尽量不要全局引入"><a href="#_4-vue-组件尽量不要全局引入" class="header-anchor">#</a> 4. vue 组件尽量不要全局引入</h4> <h4 id="_5-使用更轻量级的工具库"><a href="#_5-使用更轻量级的工具库" class="header-anchor">#</a> 5. 使用更轻量级的工具库</h4> <h4 id="_6-开启gzip压缩"><a href="#_6-开启gzip压缩" class="header-anchor">#</a> 6. 开启gzip压缩</h4> <p>这个优化是两方面的，前端将文件打包成.gz文件，然后通过nginx的配置，让浏览器直接解析.gz文件。</p> <h4 id="_7-首页单独做服务端渲染"><a href="#_7-首页单独做服务端渲染" class="header-anchor">#</a> 7. 首页单独做服务端渲染</h4> <p>如果首页真的有瓶颈，可以考虑用 node 单独做服务端渲染，而下面的子页面仍用 spa 单页的方式交互。
这里不推荐直接用 nuxt.js 服务端渲染方案，因为这样一来增加了学习成本，二来服务端的维护成本也会上升，有时在本机测试没问题，在服务端跑就有问题，为了省心，还是最大限度的使用静态页面较好。</p> <h4 id="_8-生成分析图"><a href="#_8-生成分析图" class="header-anchor">#</a> 8. 生成分析图</h4> <p>根据分析图，进行优化。</p> <div class="language- extra-class"><pre class="language-text"><code>npm run build -- --report
</code></pre></div><h2 id="_18-vuerequirecontext"><a href="#_18-vuerequirecontext" class="header-anchor">#</a> 18. vueRequireContext</h2> <p>Vue项目有很多高复用性组件，没必要每次使用都去导入，注册components，可将要复用的组件通过requireContext遍历注册全局组件。</p> <p>目录结构:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">/</span>components
	<span class="token operator">/</span>common
		index<span class="token punctuation">.</span>js	
	<span class="token operator">/</span>content
</code></pre></div><p>common目录存放复用组件</p> <p>index.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">const</span> requireContext <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'./'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token regex">/\.vue$/</span><span class="token punctuation">)</span>
requireContext<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">fileName</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token keyword">const</span> componentConfig <span class="token operator">=</span> <span class="token function">requireContext</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span>
	Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>
		componentConfig<span class="token punctuation">.</span>default<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
		componentConfig<span class="token punctuation">.</span>default
	<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>在main.js导入index.js，就能实现自动注册common目录下组件</p> <p>注意事项：<strong>注意组件的命名，由于后期使用时不需要再次导入注册组件，所以命名一定要规范，见名知意</strong></p> <h2 id="_19-vue-lazyload图片懒加载"><a href="#_19-vue-lazyload图片懒加载" class="header-anchor">#</a> 19. vue-lazyload图片懒加载</h2> <p>注意!!!：懒加载使用占位图时，占位图的宽高应该和目标图片一致，因为在移动端自适应布局中，一般会让图片width完全显示，width设置为100%，这时候高度是自适应的，占位图高度不正确会导致每次加载完图片都在重排，卡顿，性能损耗。</p> <p><strong>图片懒加载的意义</strong></p> <p>对于图片过多的页面，为了加速页面加载速度，所以很多时候我们需要将页面内未出现在可视区域内的图片先不做加载，等到滚动到可视区域后再去加载。这样子对于页面加载性能上会有很大的提升，也提高了用户体验。</p> <p><strong>1.vue-lazyload</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm install vue<span class="token operator">-</span>lazyload <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre></div><p><strong>2.在入口文件main.js中引入并使用</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> VueLazyload <span class="token keyword">from</span> <span class="token string">'vue-lazyload'</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueLazyload<span class="token punctuation">)</span>
</code></pre></div><p>loading是占位图片,require结果是一个base64字符串</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//或者添加自定义选项</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueLazyload<span class="token punctuation">,</span> <span class="token punctuation">{</span>
	preLoad<span class="token operator">:</span> <span class="token number">1.3</span><span class="token punctuation">,</span>
	error<span class="token operator">:</span> <span class="token string">'dist/error.png'</span><span class="token punctuation">,</span>
	<span class="token comment">//loading: 'dist/loading.gif',</span>
	loading<span class="token operator">:</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'assets/img/common/placeholder.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	attempt<span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>3.修改图片显示方式为懒加载(将 :src 属性直接改为v-lazy)</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">v-lazy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>/static/img/' + item.productImage<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_20-postcss-px-to-viewport"><a href="#_20-postcss-px-to-viewport" class="header-anchor">#</a> 20. postcss-px-to-viewport</h2> <p><strong>1.安装依赖</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>yarn add <span class="token operator">--</span>dev postcss<span class="token operator">-</span>px<span class="token operator">-</span>to<span class="token operator">-</span>viewport
</code></pre></div><p><strong>2.在根目录建立配置文件</strong></p> <p><strong>postcss.config.js</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;postcss-px-to-viewport&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            viewportWidth<span class="token operator">:</span> <span class="token number">375</span><span class="token punctuation">,</span><span class="token comment">//转换前视口宽度</span>
            unitPrecision<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">//转换后的小数位</span>
            viewportUnit<span class="token operator">:</span> <span class="token string">'vw'</span><span class="token punctuation">,</span><span class="token comment">//转换为vw</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_21-transition组件"><a href="#_21-transition组件" class="header-anchor">#</a> 21. transition组件</h2> <p><strong>transition出入动画不仅router-view可以用,普通组件过渡,tab切换或其他过渡都可以,用法同路由导航切换</strong>。</p> <h3 id="_21-1-示例一-tab选项卡切换-类似路由切换"><a href="#_21-1-示例一-tab选项卡切换-类似路由切换" class="header-anchor">#</a> 21.1 示例一,tab选项卡切换,类似路由切换</h3> <p>​	tab选项卡左右切换选项卡，点击保存currentIndex，记录显示的选项卡，内容区v-if或v-show判断currentIndex，实现选项卡切换。</p> <p>​	注意transition组件使用时只能套一个节点，若是多个节点使用transition-group，并打上key值。</p> <p>示例:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tabs</span> <span class="token attr-name">@tabClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>toggleTab<span class="token punctuation">'</span></span> <span class="token attr-name">:current-index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>currentIndex<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tabs</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition-group</span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>fadeName<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>home-push</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>currentIndex===0<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>fade<span class="token punctuation">'</span></span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>homeP<span class="token punctuation">'</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>home-hot</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>currentIndex===1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fade<span class="token punctuation">&quot;</span></span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>homeH<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>home-hot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>home-search</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>currentIndex===2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fade<span class="token punctuation">&quot;</span></span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>homeS<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>home-search</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition-group</span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>这里的tabs封装组件，是父组件拿子组件的数据，拿到tabs点击时的index。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">toggleTab</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//子组件传递过来的index</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//to from</span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span>currentIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span>fadeName <span class="token operator">=</span> <span class="token string">&quot;left&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span>currentIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span>fadeName <span class="token operator">=</span> <span class="token string">&quot;right&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>判断左右逻辑很简单，和路由标记meta:{index:n}判断一样。</p> <p><strong>一定要给定位!!!一定要给定位!!!一定要给定位!!!</strong></p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.fade</span> <span class="token punctuation">{</span>
<span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span><span class="token comment">/*定位是关键*/</span>
<span class="token punctuation">}</span>
<span class="token selector">.left-leave-active</span><span class="token punctuation">{</span>
    <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>0px<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span>1s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.left-leave-to</span><span class="token punctuation">{</span>
    <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.left-enter-active</span><span class="token punctuation">{</span>
    <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span>1s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.left-enter-to</span><span class="token punctuation">{</span>
    <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right-leave-active</span><span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>0px<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span>1s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right-leave-to</span><span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right-enter-active</span><span class="token punctuation">{</span>
    <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span>1s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right-enter-to</span><span class="token punctuation">{</span>
    <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_21-2-slidertransition封装"><a href="#_21-2-slidertransition封装" class="header-anchor">#</a> 21.2 Slidertransition封装</h3> <p>transition组件在router-view使用(这里是移动端底部tabBar切换路由)。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>SliderTransition<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;SliderTransition&quot;</span><span class="token punctuation">,</span>
        props<span class="token operator">:</span><span class="token punctuation">{</span>
            name<span class="token operator">:</span><span class="token punctuation">{</span>
                type<span class="token operator">:</span>String
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.left-leave-active</span><span class="token punctuation">{</span>
        <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>0px<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">transition</span><span class="token punctuation">:</span>1s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.left-leave-to</span><span class="token punctuation">{</span>
        <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.left-enter-active</span><span class="token punctuation">{</span>
        <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">transition</span><span class="token punctuation">:</span>1s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.left-enter-to</span><span class="token punctuation">{</span>
        <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.right-leave-active</span><span class="token punctuation">{</span>
        <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>0px<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">transition</span><span class="token punctuation">:</span>1s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.right-leave-to</span><span class="token punctuation">{</span>
        <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.right-enter-active</span><span class="token punctuation">{</span>
        <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">transition</span><span class="token punctuation">:</span>1s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.right-enter-to</span><span class="token punctuation">{</span>
        <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>使用时在路由表配置meta:{index:Number},根据meta判断是向左还是向右</strong>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>slider<span class="token operator">-</span>transition <span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">&quot;name&quot;</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>router<span class="token operator">-</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;center&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>slider<span class="token operator">-</span>transition<span class="token operator">&gt;</span>
</code></pre></div><p>监听路由变化。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>watch<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">//监视路由的变化</span>
	<span class="token function">$route</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">from</span><span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>index <span class="token operator">&gt;</span> <span class="token keyword">from</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'left'</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'right'</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>给center设置绝对定位。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.center</span><span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_22-vue-aweswiper轮播图"><a href="#_22-vue-aweswiper轮播图" class="header-anchor">#</a> 22. vue_aweSwiper轮播图</h2> <h3 id="_22-1-安装"><a href="#_22-1-安装" class="header-anchor">#</a> 22.1 安装</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>yarn add vue<span class="token operator">-</span>awesome<span class="token operator">-</span>swiper <span class="token operator">--</span>save
</code></pre></div><h3 id="_2-全局注册-局部注册视情况"><a href="#_2-全局注册-局部注册视情况" class="header-anchor">#</a> 2.全局注册,局部注册视情况</h3> <h4 id="全局注册"><a href="#全局注册" class="header-anchor">#</a> <strong>全局注册</strong></h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> VueAwesomeSwiper <span class="token keyword">from</span> <span class="token string">'vue-awesome-swiper'</span>
<span class="token comment">// require styles</span>
<span class="token keyword">import</span> <span class="token string">'swiper/dist/css/swiper.css'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueAwesomeSwiper<span class="token punctuation">,</span> <span class="token comment">/* { default global options } */</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="使用-banner是轮播图图片数组"><a href="#使用-banner是轮播图图片数组" class="header-anchor">#</a> 使用,banner是轮播图图片数组</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;this.banner.length!==0&quot;</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>swiper <span class="token operator">:</span>options<span class="token operator">=</span><span class="token string">&quot;swiperOption&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;swiper&quot;</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>swiper<span class="token operator">-</span>slide v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in banner&quot;</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>img <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;item.image&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>swiper<span class="token operator">-</span>slide<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;swiper-pagination&quot;</span>  slot<span class="token operator">=</span><span class="token string">&quot;pagination&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>swiper<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><h4 id="配置"><a href="#配置" class="header-anchor">#</a> 配置</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>swiperOption<span class="token operator">:</span><span class="token punctuation">{</span>
	pagination<span class="token operator">:</span> <span class="token punctuation">{</span>
		el<span class="token operator">:</span> <span class="token string">'.swiper-pagination'</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	loop<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
	autoplay<span class="token operator">:</span><span class="token punctuation">{</span>
		delay<span class="token operator">:</span><span class="token number">2000</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">.</span>swiper<span class="token punctuation">{</span>
    height<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span>
    padding<span class="token operator">-</span>bottom<span class="token operator">:</span> <span class="token number">52</span><span class="token operator">%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*height:0设置padding填充 防止轮播图由于图片加载造成重排抖动*/</span>
<span class="token punctuation">.</span>swiper img<span class="token punctuation">{</span>
    width<span class="token operator">:</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*  /deep/  &gt;&gt;&gt; 是注入css   修改第三方组件库默认的样式*/</span>
<span class="token punctuation">.</span>swiper <span class="token operator">/</span>deep<span class="token operator">/</span> <span class="token punctuation">.</span>swiper<span class="token operator">-</span>pagination<span class="token operator">-</span>bullet<span class="token operator">-</span>active<span class="token punctuation">{</span>
    background<span class="token operator">-</span>color<span class="token operator">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>注意:1.由于axios加载图片，初始时没有图片，<strong>swiper容器没有高度填充,加载图片会出现重排抖动</strong>，解决办法,给swiper设置height:0;padding-bottom:rem;</p> <p>2.要修改swiper分页器的颜色,即修改第三方组件的默认样式，可用样式注入。	/deep/或&gt;&gt;&gt;</p> <p>三个箭头写法不支持sass，less等预处理器，/deep/可以。</p> <p>3.swiper的配置问题，loop:true循环播放会失效，是因为初始时没有图片，swiperOption配置已经生效了，解决办法应该有图片以后才让swiperOption生效，<strong>在swiper父容器用v-if条件渲染</strong>。</p> <h2 id="_23-不区分大小写搜索"><a href="#_23-不区分大小写搜索" class="header-anchor">#</a> 23. 不区分大小写搜索</h2> <h3 id="_23-1-正则实现input实时搜索-不区分大小写"><a href="#_23-1-正则实现input实时搜索-不区分大小写" class="header-anchor">#</a> 23.1 正则实现input实时搜索,不区分大小写</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>search<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item in arr2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//data数据</span>
arr<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'JavaScript01'</span><span class="token punctuation">,</span><span class="token string">'JavaScript025'</span><span class="token punctuation">,</span><span class="token string">'css3'</span><span class="token punctuation">,</span><span class="token string">'Css'</span><span class="token punctuation">,</span><span class="token string">'数字N'</span><span class="token punctuation">,</span><span class="token string">'数字n'</span><span class="token punctuation">]</span>，
showArr<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>showArr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span><span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_24-vue-config-js"><a href="#_24-vue-config-js" class="header-anchor">#</a> 24. vue.config.js</h2> <p><a href="https://cli.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">VueCli官方文档地址。<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><code>VueCli</code>给我们提供了<code>webpack</code>配置扩展入口。</p> <p>常用配置：</p> <p>publicPath，devServer，assetsDir，productionSourceMap，configureWebpack</p> <p>示例配置：</p> <h3 id="configurewebpack-resolve-alias"><a href="#configurewebpack-resolve-alias" class="header-anchor">#</a> configureWebpack.resolve.alias</h3> <p>配置别名</p> <div class="language-json extra-class"><pre class="language-json"><code>module.exports = <span class="token punctuation">{</span>
    configureWebpack<span class="token operator">:</span><span class="token punctuation">{</span>
        resolve<span class="token operator">:</span><span class="token punctuation">{</span>
            alias<span class="token operator">:</span><span class="token punctuation">{</span>
                'assets'<span class="token operator">:</span> '@/assets'<span class="token punctuation">,</span>
                'components'<span class="token operator">:</span> '@/components'<span class="token punctuation">,</span>
                'api'<span class="token operator">:</span> '@/api'<span class="token punctuation">,</span>
                'views'<span class="token operator">:</span> '@/views'<span class="token punctuation">,</span>
                'utils'<span class="token operator">:</span>'@/utils'
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="devserver"><a href="#devserver" class="header-anchor">#</a> devServer</h3> <p>端口代理解决开发环境跨域，configureWebpack.externals不打包模块，使用CDN</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
        proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'/'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                target<span class="token operator">:</span> <span class="token string">'http://localhost:3005'</span><span class="token punctuation">,</span>
                pathRewrite<span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token string">'/'</span><span class="token operator">:</span> <span class="token string">''</span><span class="token comment">//路径重写</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    productionSourceMap<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    configureWebpack<span class="token operator">:</span><span class="token punctuation">{</span>
        externals<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'vue'</span><span class="token operator">:</span> <span class="token string">'Vue'</span><span class="token punctuation">,</span>
            <span class="token string">'vue-router'</span><span class="token operator">:</span> <span class="token string">'VueRouter'</span><span class="token punctuation">,</span>
            <span class="token string">'element-ui'</span><span class="token operator">:</span> <span class="token string">'ELEMENT'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2020-6-25 13:05:11</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.496b0931.js" defer></script><script src="/docs/assets/js/2.f90869d3.js" defer></script><script src="/docs/assets/js/23.52d4b090.js" defer></script>
  </body>
</html>
