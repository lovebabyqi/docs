<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES5之后统称ES6 | 十月</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/docs/images/7.png">
    <meta name="description" content="vuepress博客">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="full-screen" content="true">
    <meta name="x5-fullscreen" content="true">
    <meta name="360-fullscreen" content="true">
    <link rel="preload" href="/docs/assets/css/0.styles.1ad37322.css" as="style"><link rel="preload" href="/docs/assets/js/app.ca99be60.js" as="script"><link rel="preload" href="/docs/assets/js/2.f90869d3.js" as="script"><link rel="preload" href="/docs/assets/js/11.c7faf0dc.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.4e260648.js"><link rel="prefetch" href="/docs/assets/js/12.4d2c3fa3.js"><link rel="prefetch" href="/docs/assets/js/13.0bca2749.js"><link rel="prefetch" href="/docs/assets/js/14.dd92793f.js"><link rel="prefetch" href="/docs/assets/js/15.eeac8df6.js"><link rel="prefetch" href="/docs/assets/js/16.77c2d47d.js"><link rel="prefetch" href="/docs/assets/js/17.6c52002a.js"><link rel="prefetch" href="/docs/assets/js/18.c007769d.js"><link rel="prefetch" href="/docs/assets/js/19.5b702adb.js"><link rel="prefetch" href="/docs/assets/js/20.8b01c1c8.js"><link rel="prefetch" href="/docs/assets/js/21.f30b63cd.js"><link rel="prefetch" href="/docs/assets/js/22.9270e206.js"><link rel="prefetch" href="/docs/assets/js/23.ea1e1991.js"><link rel="prefetch" href="/docs/assets/js/24.5f38cba3.js"><link rel="prefetch" href="/docs/assets/js/25.6c2aa877.js"><link rel="prefetch" href="/docs/assets/js/26.7f92cc24.js"><link rel="prefetch" href="/docs/assets/js/27.cc2178c9.js"><link rel="prefetch" href="/docs/assets/js/28.0ee493cf.js"><link rel="prefetch" href="/docs/assets/js/29.338f737e.js"><link rel="prefetch" href="/docs/assets/js/3.edb5e83a.js"><link rel="prefetch" href="/docs/assets/js/30.4fb62da0.js"><link rel="prefetch" href="/docs/assets/js/31.a6505a92.js"><link rel="prefetch" href="/docs/assets/js/32.98248ad6.js"><link rel="prefetch" href="/docs/assets/js/33.7257a28d.js"><link rel="prefetch" href="/docs/assets/js/34.64629f75.js"><link rel="prefetch" href="/docs/assets/js/35.e7242380.js"><link rel="prefetch" href="/docs/assets/js/36.3bc1c98b.js"><link rel="prefetch" href="/docs/assets/js/37.912b0fe3.js"><link rel="prefetch" href="/docs/assets/js/38.c532bc23.js"><link rel="prefetch" href="/docs/assets/js/4.af1ff500.js"><link rel="prefetch" href="/docs/assets/js/5.dc2b2112.js"><link rel="prefetch" href="/docs/assets/js/6.0e82c544.js"><link rel="prefetch" href="/docs/assets/js/7.30be3a2a.js"><link rel="prefetch" href="/docs/assets/js/8.d653075e.js"><link rel="prefetch" href="/docs/assets/js/9.4e806e1c.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.1ad37322.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/images/7.png" alt="十月" class="logo"> <span class="site-name can-hide">十月</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/blog/" class="nav-link">
  技术博客
</a></div><div class="nav-item"><a href="/docs/JavaScript/" class="nav-link router-link-active">
  Js
</a></div><div class="nav-item"><a href="/docs/css/" class="nav-link">
  html+css
</a></div><div class="nav-item"><a href="/docs/Vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/docs/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/docs/node/" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/docs/wx/" class="nav-link">
  wx
</a></div><div class="nav-item"><a href="/docs/http/" class="nav-link">
  网络
</a></div><div class="nav-item"><a href="/docs/myComponents/" class="nav-link">
  封装组件
</a></div><div class="nav-item"><a href="/docs/utils/" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="https://github.com/lovebabyqi/Components" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/blog/" class="nav-link">
  技术博客
</a></div><div class="nav-item"><a href="/docs/JavaScript/" class="nav-link router-link-active">
  Js
</a></div><div class="nav-item"><a href="/docs/css/" class="nav-link">
  html+css
</a></div><div class="nav-item"><a href="/docs/Vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/docs/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/docs/node/" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/docs/wx/" class="nav-link">
  wx
</a></div><div class="nav-item"><a href="/docs/http/" class="nav-link">
  网络
</a></div><div class="nav-item"><a href="/docs/myComponents/" class="nav-link">
  封装组件
</a></div><div class="nav-item"><a href="/docs/utils/" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="https://github.com/lovebabyqi/Components" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docs/JavaScript/" class="sidebar-link">1. 初识JavaScript</a></li><li><a href="/docs/JavaScript/js数据.html" class="sidebar-link">JavaScript数据</a></li><li><a href="/docs/JavaScript/js多种变量声明方式.html" class="sidebar-link">多种变量声明方式</a></li><li><a href="/docs/JavaScript/js控制流.html" class="sidebar-link">js控制流</a></li><li><a href="/docs/JavaScript/js函数.html" class="sidebar-link">js函数</a></li><li><a href="/docs/JavaScript/js面向对象.html" class="sidebar-link">js面向对象</a></li><li><a href="/docs/JavaScript/ES6.html" class="active sidebar-link">ES5之后统称ES6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_1-解构赋值" class="sidebar-link">1. 解构赋值</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_1-1-数组的解构赋值" class="sidebar-link">1.1 数组的解构赋值</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_1-2-对象的解构" class="sidebar-link">1.2 对象的解构</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_1-3-原始值的解构赋值" class="sidebar-link">1.3 原始值的解构赋值</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_2-es6，let，const" class="sidebar-link">2. ES6，let，const</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_2-1-let" class="sidebar-link">2.1 let</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_2-2-const" class="sidebar-link">2.2 const</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_2-3-经典案例" class="sidebar-link">2.3 经典案例</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_3-字符串，数组，对象新增方法" class="sidebar-link">3. 字符串，数组，对象新增方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_3-1-字符串新增方法" class="sidebar-link">3.1 字符串新增方法</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_3-2-数组的新增方法" class="sidebar-link">3.2 数组的新增方法</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_3-3-对象的新增方法" class="sidebar-link">3.3 对象的新增方法</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_3-4-数值的新增方法" class="sidebar-link">3.4 数值的新增方法</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_3-5-math对象新增方法" class="sidebar-link">3.5 Math对象新增方法</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#运用示例" class="sidebar-link">运用示例</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_4-函数新增方法" class="sidebar-link">4. 函数新增方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_4-1-es5暗示全局变量的补充" class="sidebar-link">4.1 ES5暗示全局变量的补充</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_4-2-es6新增的函数特点" class="sidebar-link">4.2 ES6新增的函数特点</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_4-3-es6新增箭头函数" class="sidebar-link">4.3 ES6新增箭头函数</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_5-generator-函数" class="sidebar-link">5. generator 函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_5-1-yield-表达式" class="sidebar-link">5.1 yield 表达式</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_5-2-yield-表达式" class="sidebar-link">5.2 yield* 表达式</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_5-3-generator函数方法：" class="sidebar-link">5.3 generator函数方法：</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_6-iterator" class="sidebar-link">6. iterator</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#模拟iterator" class="sidebar-link">模拟iterator</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_7-新增symblo数据类型" class="sidebar-link">7. 新增symblo数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_7-1-es6新增数据类型-symbol" class="sidebar-link">7.1 es6新增数据类型 symbol</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_7-2-使用symbol-方法可以创建一个symbol类型的值。" class="sidebar-link">7.2 使用Symbol()方法可以创建一个Symbol类型的值。</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_7-3-使用symbol-for-方法也可以创建一个symbol类型的值" class="sidebar-link">7.3 使用Symbol.for()方法也可以创建一个Symbol类型的值</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_8-map数据结构" class="sidebar-link">8. map数据结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_8-1-创建map结构以及map中的方法" class="sidebar-link">8.1 创建map结构以及map中的方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_9-set数据结构" class="sidebar-link">9. set数据结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_9-1-set数据结构特点" class="sidebar-link">9.1 set数据结构特点</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_9-2-set的操作方法" class="sidebar-link">9.2 set的操作方法</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#weakset" class="sidebar-link">WeakSet</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_10-async-await" class="sidebar-link">10. async await</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_11-try-catch" class="sidebar-link">11. try catch</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_12-promise" class="sidebar-link">12. promise</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#promise-all，promise-race" class="sidebar-link">promise.all，promise.race</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_13-class，extend" class="sidebar-link">13. class，extend</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_13-1-class创建类" class="sidebar-link">13.1 class创建类</a></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_13-2-extends继承" class="sidebar-link">13.2 extends继承</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/JavaScript/ES6.html#_14-es6导入import导出export" class="sidebar-link">14. ES6导入import导出export</a></li></ul></li><li><a href="/docs/JavaScript/js内置对象MathDate.html" class="sidebar-link">js内置对象</a></li><li><a href="/docs/JavaScript/js正则表达式.html" class="sidebar-link">正则表达式</a></li><li><a href="/docs/JavaScript/js综合.html" class="sidebar-link">js综合</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="es5之后统称es6"><a href="#es5之后统称es6" class="header-anchor">#</a> ES5之后统称ES6</h1> <h2 id="_1-解构赋值"><a href="#_1-解构赋值" class="header-anchor">#</a> 1. 解构赋值</h2> <p>拆解数据结构，来给变量赋值。</p> <ul><li>如果左边模式匹配到右边模式的所有，则这个解构是完全解构。</li> <li>如果左边模式只匹配到右边模式的一部分，则这个解构是不完全解构。</li> <li>如果左侧模式中的个别变量没有匹配到右边模式，则这个解构是不成功解构，该变量是<code>undefined</code> ,我们可以人为设置变量的默认值。</li></ul> <p>结论：在设置变量的默认值时，总是惰性求值的。</p> <p>...(拓展运算符)</p> <p>作用：</p> <ul><li>1.专门收集数据并放置在变量中</li> <li>2.打散数组/字符串/类数组()，并且还需要放置在数组/对象中。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//类数组</span>
    document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    arguments    <span class="token comment">//函数内部关键词</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//函数中</span>
<span class="token operator">...</span>args
<span class="token comment">//可以利用...收集数据的作用</span>
<span class="token comment">//把实参收集到args中</span>
</code></pre></div><h3 id="_1-1-数组的解构赋值"><a href="#_1-1-数组的解构赋值" class="header-anchor">#</a> 1.1 数组的解构赋值</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span><span class="token operator">...</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//0,[1,2]</span>

<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1,2,4</span>
</code></pre></div><p>...变量</p> <ul><li>这个变量必须写在匹配模式的最后面。</li> <li>这个变量会匹配到剩余的所有数据。</li></ul> <h3 id="_1-2-对象的解构"><a href="#_1-2-对象的解构" class="header-anchor">#</a> 1.2 对象的解构</h3> <p>对象解构的完整写法：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span>name<span class="token operator">:</span>a<span class="token punctuation">,</span>age<span class="token operator">:</span>b<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'heaven'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">28</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>对象解构的简洁写法：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span>age<span class="token punctuation">,</span>name<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'heaven'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">28</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-3-原始值的解构赋值"><a href="#_1-3-原始值的解构赋值" class="header-anchor">#</a> 1.3 原始值的解构赋值</h3> <p>1.字符串的解构赋值，类似于数组的解构。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span><span class="token operator">...</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// h e ['l','l','o']</span>
</code></pre></div><h2 id="_2-es6，let，const"><a href="#_2-es6，let，const" class="header-anchor">#</a> 2. ES6，let，const</h2> <h3 id="_2-1-let"><a href="#_2-1-let" class="header-anchor">#</a> 2.1 let</h3> <p><code>var</code>指令创造的变量只有函数作用域，在控制流程内不会产生作用域，外面也可以访问到控制流程内部的变量。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">&gt;</span>b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//30</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//i被挂载到全局作用域window上，for循环结束，i为10</span>
</code></pre></div><h4 id="let指令的块级作用域"><a href="#let指令的块级作用域" class="header-anchor">#</a> let指令的块级作用域</h4> <p>使用let指令创造的变量，<strong>存在块级作用域</strong>，控制流程内部用<code>let</code>指令定义的变量，在控制流程外部无法获取。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">&gt;</span>b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">////报错ReferenceError:c is not defined</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">////报错ReferenceError:i is not defined</span>
</code></pre></div><h4 id="let声明重复变量会报错"><a href="#let声明重复变量会报错" class="header-anchor">#</a> let声明重复变量会报错</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> i<span class="token punctuation">;</span><span class="token comment">//Identifier 'i' has already been declared</span>
</code></pre></div><p>报错信息的意思为: 变量i已经被声明过。</p> <h4 id="let暂时性死区tdz，无变量提升"><a href="#let暂时性死区tdz，无变量提升" class="header-anchor">#</a> let暂时性死区TDZ，无变量提升</h4> <p>因为let指令没有变量提升，所以在浏览器在执行到let指令之前，任何语句中都无法使用该let指令所定义的变量。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//报错ReferenceError:Cannot access 'b' before initialization</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-2-const"><a href="#_2-2-const" class="header-anchor">#</a> 2.2 const</h3> <p><code>const</code> 指令定义常量。</p> <p><code>const</code>声明和<code>let</code>非常类似，区别就是</p> <ul><li>const定义好一个值之后，不允许修改变量值；</li> <li>初始化的时候就要赋值；</li> <li>常量变量名请大写(只是规范而已，小写也不会报错，但是大写了可以让程序员快速识别该变量是啥)；</li></ul> <h3 id="_2-3-经典案例"><a href="#_2-3-经典案例" class="header-anchor">#</a> 2.3 经典案例</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>按钮<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>按钮<span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>按钮<span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>按钮<span class="token number">4</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>按钮<span class="token number">5</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    	<span class="token keyword">var</span> aBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            aBtn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><blockquote><p>所有的函数内部的变量<code>i</code>指向的是全局作用域内的变量i的值，所以当函数执行的时候，就回去寻找此时此刻变量i的值，而变量i的值在经历完循环之后数字已经变成了5，所以每一个函数输出的值都是5。</p></blockquote> <p><code>for</code>循环结束，<code>i</code>的值是5，无论点击那个按钮都是5。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>按钮<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>按钮<span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>按钮<span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>按钮<span class="token number">4</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>按钮<span class="token number">5</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    	<span class="token keyword">var</span> aBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            aBtn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><p>将<code>for</code>循环的<code>i</code>用<code>let</code>声明，生成块级作用域，就能分别输出1~4。</p> <blockquote><p>所有的函数内部的变量i指向的是局部块级作用域内的变量i的值。</p> <p>所以for循环执行一次就相当于新建了一个块级作用域, 每个块级作用域内都有一个i的值, 而且。</p> <p>此值是完全独立的, 所以函数在执行时所用到的i的值都是函数在定义时的i的值。</p></blockquote> <h2 id="_3-字符串，数组，对象新增方法"><a href="#_3-字符串，数组，对象新增方法" class="header-anchor">#</a> 3. 字符串，数组，对象新增方法</h2> <h3 id="_3-1-字符串新增方法"><a href="#_3-1-字符串新增方法" class="header-anchor">#</a> 3.1 字符串新增方法</h3> <p><strong>1. 判断字符串中有没有指定字符</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>str<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>指定字符<span class="token punctuation">,</span>索引位置<span class="token punctuation">)</span>
<span class="token comment">//从指定索引位置查看有没有指定字符，返回布尔值</span>
</code></pre></div><p><strong>2. 判断str是否以指定字符串开头</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>str<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>指定字符<span class="token punctuation">,</span>索引位置<span class="token punctuation">)</span>
<span class="token comment">//返回布尔值</span>
</code></pre></div><p><strong>3. 判断str是否以指定字符串结尾</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>str<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span>指定字符<span class="token punctuation">,</span>索引位置<span class="token punctuation">)</span>
<span class="token comment">//返回布尔值</span>
</code></pre></div><p><strong>4. 返回的是一个把str重复n次的新字符串</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>str<span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
</code></pre></div><p><strong>5. 用指定字符串从str前面把str填充到指定的length</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>str<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span>length<span class="token punctuation">,</span>指定字符串<span class="token punctuation">)</span> 
</code></pre></div><p><strong>6. 用指定字符串从str后面把str填充到指定的length</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>str<span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span>length<span class="token punctuation">,</span>指定字符串<span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-2-数组的新增方法"><a href="#_3-2-数组的新增方法" class="header-anchor">#</a> 3.2 数组的新增方法</h3> <p><strong>1. Array.from(类数组)</strong></p> <p>​	传入类数组，返回纯数组。</p> <p><strong>2. Array.of(实参1,实参2)</strong></p> <p>​	传入若干形参，返回把这些形参整合后的新数组。</p> <p><strong>3.arr.copyWithin(x,y,z)</strong>   作用如下：</p> <ul><li><p>复制从索引y到索引z的数据。</p></li> <li><p>把复制的数据从arr的索引x开始覆盖。</p></li> <li><p>返回覆盖后的新数组。</p></li> <li><p>会改变原数组。</p></li></ul> <p><strong>4. arr.fill(数据)</strong></p> <p>​	用指定数据填满arr，arr中原来的数据会被覆盖。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[null, null, null, null, null, null]</span>
</code></pre></div><p><strong>5. arr.includes(数据)</strong></p> <p>​	判断arr里有没有指定数据，有返回true，反之false。</p> <p><strong>6. arr.find(回调函数)</strong></p> <p>​	该方法返回满足条件的数组成员。</p> <p>​	只要回调函数的返回值是true 则满足条件，反之不满足条件。</p> <p><strong>7. arr.findIndex(回调函数)</strong></p> <p>​	该方法返回满足条件的数组成员对应的<strong>索引</strong>位置。</p> <p>​	只要回调函数的返回值是true 则满足条件，反之不满足条件。</p> <p><strong>8. arr.forEach(回调函数)</strong></p> <p>​	只有遍历的作用。</p> <p><strong>9. arr.map(回调函数)</strong></p> <p>​	返回值是一个新的数组。</p> <p>​	<strong>回调函数的返回值作为新数组的成员</strong>。</p> <p><strong>10. arr.filter(回调函数)</strong></p> <p>​	返回值是一个基于老数组过滤后的新数组。</p> <p>​	回调函数的返回值为true，则对应数组成员保留。</p> <p>​	反之不保留。</p> <p><strong>11. arr.every(回调函数)</strong></p> <p>​	返回值一个布尔值。</p> <p>​	所有回调函数的返回值都是true，则every的返回值才是true。</p> <p>​	只要一个回调函数的返回值是false，则every的返回值就是false。</p> <p><strong>12. arr.some(回调函数)</strong></p> <p>​	只要一个回调函数的返回值是true，则some的返回值就是true。</p> <p>​	所有回调函数的返回值都是false，some的返回值才是false。</p> <p><strong>13. arr.reduce(回调函数)</strong></p> <p>​	默认从<strong>索引1</strong>开始遍历的，从左向右。</p> <p>​	<strong>回调函数（pre,next,index）</strong></p> <p>​	pre 保留了上一次回调函数的返回值。</p> <p>​	next 本次遍历到的数组成员。</p> <p>​	index  本次遍历到的数组成员的索引。</p> <p><strong>14. arr.reduce(回调函数,初始值)</strong></p> <p>​	会从<strong>索引0</strong>开始遍历。</p> <p><strong>15. arr.reduceRight(回调函数)</strong></p> <p>​	从右向左遍历。</p> <h3 id="_3-3-对象的新增方法"><a href="#_3-3-对象的新增方法" class="header-anchor">#</a> 3.3 对象的新增方法</h3> <p><strong>当对象的属性名和要使用的变量名完全一致，则可以简写</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>
data <span class="token operator">=</span> <span class="token punctuation">{</span>
    value
<span class="token punctuation">}</span>
<span class="token comment">//等价于data = {value:value}</span>
</code></pre></div><p><strong>1. Object.assign(实参1，实参2...)</strong></p> <p>​	用来合并对象，并且把合并后的新对象赋值给<code>assign</code>的第一个实参。</p> <p><strong>2. Object.keys(对象)</strong></p> <p>​	获取对象键名组成的数组。</p> <p><strong>3. Object.values(对象)</strong></p> <p>​	获取对象键值组成的数组。</p> <p><strong>4. Object.entries(对象)</strong></p> <p>​	 获取对象键名键值组成的数组。</p> <p><strong>5. Object.is</strong></p> <p>​	解决两个数据一样就相等的问题。</p> <h3 id="_3-4-数值的新增方法"><a href="#_3-4-数值的新增方法" class="header-anchor">#</a> 3.4 数值的新增方法</h3> <ul><li>2进制数字的写法   0b</li> <li>8进制数字的写法   0</li> <li>16进制数字的写法  0x</li> <li><code>Infinity</code>这个关键词表示正无穷</li> <li><code>-Infinity</code>表示负无穷</li> <li><code>Number.isFinite(数字)</code>，判断数字是否是有限的  注：在判断其他数据类型时不会类型转换</li> <li><code>Number.isNaN(数字)</code> ，判断数字是否是NaN，注：在判断其他数据类型时不会类型转换</li> <li><code>Number.parseInt(数字)</code>，同<code>parseInt</code>方法一样。</li> <li><code>Number.parseFloat(数字)</code>，同<code>parseFloat</code>方法一样。</li> <li><code>Number.isInteger(数字)</code>，判断数字是不是整数，注：在判断其他数据类型时不会类型转换。</li></ul> <h3 id="_3-5-math对象新增方法"><a href="#_3-5-math对象新增方法" class="header-anchor">#</a> 3.5 Math对象新增方法</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Math<span class="token punctuation">.</span><span class="token function">trunc</span><span class="token punctuation">(</span>数字<span class="token punctuation">)</span>    用于去除数字中的小数，返回整数部分
<span class="token operator">~</span><span class="token operator">~</span>数字               返回小数的整数部分
Math<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span>数字<span class="token punctuation">)</span>     用于判断数字是否是正数，负数或者<span class="token number">0</span>
数字是正数     返回<span class="token number">1</span>
数字是负数     返回<span class="token operator">-</span><span class="token number">1</span>
数字是<span class="token number">0</span>      返回<span class="token number">0</span>
数字是<span class="token operator">-</span><span class="token number">0</span>     返回<span class="token operator">-</span><span class="token number">0</span>
其他数字      返回<span class="token number">NaN</span>

Math<span class="token punctuation">.</span><span class="token function">cbrt</span><span class="token punctuation">(</span>数字<span class="token punctuation">)</span>        计算数字的立方根
Math<span class="token punctuation">.</span><span class="token function">hypot</span><span class="token punctuation">(</span>数字<span class="token number">1</span><span class="token punctuation">,</span>数字<span class="token number">2</span><span class="token punctuation">,</span>…<span class="token punctuation">)</span>  计算每个实参的平方和的平方根
</code></pre></div><h3 id="运用示例"><a href="#运用示例" class="header-anchor">#</a> 运用示例</h3> <p>1.求最大值最小值</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//ES5</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//ES6</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>2.合并数组</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ES5</span>
<span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//ES6</span>
</code></pre></div><p>3.克隆数组</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr1 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//slice();slice(0)皆可实现;ES5</span>
<span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">]</span><span class="token comment">//ES6</span>
</code></pre></div><h2 id="_4-函数新增方法"><a href="#_4-函数新增方法" class="header-anchor">#</a> 4. 函数新增方法</h2> <h3 id="_4-1-es5暗示全局变量的补充"><a href="#_4-1-es5暗示全局变量的补充" class="header-anchor">#</a> 4.1 ES5暗示全局变量的补充</h3> <p>当一个变量没有声明就赋值，会从父函数中查找该变量，如果有该变量，则这个变量就是父级函数的  --&gt;  暗示父级变量。</p> <p>函数的补充：</p> <p>函数是一个对象{}，有Length属性，记录形参个数(没有设置默认值的形参)。</p> <h3 id="_4-2-es6新增的函数特点"><a href="#_4-2-es6新增的函数特点" class="header-anchor">#</a> 4.2 ES6新增的函数特点</h3> <p>es6新增的函数特点</p> <ul><li>1.函数在传参的时候，<strong>可以使用解构赋值的方式来传递数据</strong>。</li> <li><strong>2.可以给接受不到数据的形参设置默认值</strong>(默认值生效，()会生成一个独立块级作用域)。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">auto</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">auto</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
</code></pre></div><ul><li>3.块级作用域示例</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token operator">=</span>x</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//暂时性死区报错Cannot access 'x' before initialization</span>
<span class="token comment">//foo执行时,x没有接收到实参默认undefined,生成块级作用域</span>
<span class="token comment">//启用默认值x,'='右边的x,此时作用域中值是undefined,暂时性死区;</span>
<span class="token comment">//'='右边的x还没有声明就使用</span>
</code></pre></div><h3 id="_4-3-es6新增箭头函数"><a href="#_4-3-es6新增箭头函数" class="header-anchor">#</a> 4.3 ES6新增箭头函数</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><ul><li>1.当箭头函数只有一个形参，则()可以去掉。</li> <li>2.当箭头函数的代码块只有一句return时，则{}可以省略，当需要return对象时，加上（）。</li> <li>3.箭头函数的this指向了箭头函数所在的环境。</li> <li>4.箭头函数内部没有arguments。</li></ul> <h2 id="_5-generator-函数"><a href="#_5-generator-函数" class="header-anchor">#</a> 5. <code>generator</code> 函数</h2> <p>在Javascript中，一个函数一旦开始执行，就会运行到最后或遇到return时结束，运行期间不会有其它代码能够打断它，也不能从外部再传入值到函数体内</p> <p>而Generator函数（生成器）的出现使得打破函数的完整运行成为了可能，其语法行为与传统函数完全不同</p> <p>Generator函数是ES6提供的一种异步编程解决方案，形式上也是一个普通函数，但有几个显著的特征：</p> <ul><li>function关键字与函数名之间有一个星号 &quot; * &quot; （推荐紧挨着function关键字）。</li> <li>函数体内使用 yield 表达式，定义不同的内部状态 （可以有多个yield）。</li> <li>直接调用 Generator函数并不会执行，也不会返回运行结果，而是返回一个遍历器对象（Iterator Object）。</li> <li>依次调用遍历器对象的next方法，遍历 Generator函数内部的每一个状态</li></ul> <p>语法：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;Generator { }&quot;</span>
</code></pre></div><img src="/docs/js/generator函数01.png" alt="generator函数01.png"> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token string">'hello'</span>
    <span class="token keyword">yield</span> <span class="token string">'world'</span>
    <span class="token keyword">return</span> <span class="token string">'ending'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// {value: &quot;hello&quot;, done: false}</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// {value: &quot;world&quot;, done: false}</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// {value: &quot;ending&quot;, done: true}</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// {value: undefined, done: true}</span>
</code></pre></div><p>上面代码中定义了一个 Generator函数，其中包含两个 yield 表达式和一个 return 语句（即产生了三个状态）。</p> <p>每次调用Iterator对象的next方法时，内部的指针就会从函数的头部或上一次停下来的地方开始执行，直到遇到下一个 yield 表达式或return语句暂停。换句话说，Generator 函数是分段执行的，yield表达式是暂停执行的标记，而 next方法可以恢复执行。</p> <p>执行过程如下：</p> <ol><li>第一次调用next方法时，内部指针从函数头部开始执行，遇到第一个 yield 表达式暂停，并返回当前状态的值 'hello'。</li> <li>第二次调用next方法时，内部指针从上一个（即第一个） yield 表达式开始，遇到第二个 yield 表达式暂停，返回当前状态的值 'world'。</li> <li>第三次调用next方法时，内部指针从第二个 yield 表达式开始，遇到return语句暂停，返回当前状态的值 'ending'，同时所有状态遍历完毕，done 属性的值变为true。</li> <li>第四次调用next方法时，由于函数已经遍历运行完毕，不再有其它状态，因此返回 {value: undefined, done: true}。如果继续调用next方法，返回的也都是这个值。</li></ol> <h3 id="_5-1-yield-表达式"><a href="#_5-1-yield-表达式" class="header-anchor">#</a> 5.1 <code>yield</code> 表达式</h3> <h4 id="_5-1-1-yield-表达式只能用在-generator-函数里面，用在其它地方都会报错"><a href="#_5-1-1-yield-表达式只能用在-generator-函数里面，用在其它地方都会报错" class="header-anchor">#</a> 5.1.1 <code>yield</code> 表达式只能用在 Generator 函数里面，用在其它地方都会报错</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// SyntaxError: Unexpected number</span>
<span class="token comment">// 在一个普通函数中使用yield表达式，结果产生一个句法错误</span>
</code></pre></div><h4 id="_5-1-2yield-表达式如果用在另一个表达式中，必须放在圆括号里面"><a href="#_5-1-2yield-表达式如果用在另一个表达式中，必须放在圆括号里面" class="header-anchor">#</a> 5.1.2<code>yield</code> 表达式如果用在另一个表达式中，必须放在圆括号里面</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello'</span> <span class="token operator">+</span> <span class="token keyword">yield</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// SyntaxError</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello'</span> <span class="token operator">+</span> <span class="token keyword">yield</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// SyntaxError</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello'</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">yield</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello'</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">yield</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-1-3-yield-表达式用作参数或放在赋值表达式的右边，可以不加括号"><a href="#_5-1-3-yield-表达式用作参数或放在赋值表达式的右边，可以不加括号" class="header-anchor">#</a> 5.1.3 <code>yield</code> 表达式用作参数或放在赋值表达式的右边，可以不加括号</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">yield</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token keyword">yield</span> <span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
    <span class="token keyword">let</span> input <span class="token operator">=</span> <span class="token keyword">yield</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-1-4-yield-表达式和return语句的区别"><a href="#_5-1-4-yield-表达式和return语句的区别" class="header-anchor">#</a> 5.1.4 <code>yield</code> 表达式和return语句的区别</h4> <p>相似：都能返回紧跟在语句后面的那个表达式的值</p> <p>区别：</p> <p>​     --  每次遇到 yield，函数就暂停执行，下一次再从该位置继续向后执行；而 return 语句不具备记忆位置的功能</p> <p>​     --  一个函数只能执行一次 return 语句，而在 Generator 函数中可以有任意多个 yield</p> <h3 id="_5-2-yield-表达式"><a href="#_5-2-yield-表达式" class="header-anchor">#</a> 5.2 <code>yield*</code> 表达式</h3> <p>如果在 Generator 函数里面调用另一个 Generator 函数，默认情况下是没有效果的</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token string">'aaa'</span>
    <span class="token keyword">yield</span> <span class="token string">'bbb'</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">yield</span> <span class="token string">'ccc'</span>
    <span class="token keyword">yield</span> <span class="token string">'ddd'</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">let</span> iterator <span class="token operator">=</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> iterator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// ccc</span>
  <span class="token comment">// ddd</span>

<span class="token punctuation">}</span> 
</code></pre></div><p>上例中，使用 for...of 来遍历函数bar的生成的遍历器对象时，只返回了bar自身的两个状态值。此时，如果想要正确的在bar 里调用foo，就需要用到 yield* 表达式</p> <p><code>yield*</code> 表达式用来在一个 Generator 函数里面 <strong>执行</strong> 另一个 Generator 函数</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token string">'aaa'</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token string">'bbb'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 在bar函数中 **执行** foo函数</span>
    <span class="token keyword">yield</span> <span class="token string">'ccc'</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token string">'ddd'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> iterator <span class="token operator">=</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> iterator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// aaa</span>
<span class="token comment">// bbb</span>
<span class="token comment">// ccc</span>
<span class="token comment">// ddd</span>
</code></pre></div><h3 id="_5-3-generator函数方法："><a href="#_5-3-generator函数方法：" class="header-anchor">#</a> 5.3 <code>generator</code>函数方法：</h3> <ul><li><code>Generator.prototype.next()</code></li></ul> <p><code>next()</code> 方法返回一个包含属性 <code>done</code> 和 <code>value</code> 的对象。该方法也可以通过接受一个参数用以向生成器传值。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//value 向生成器传递的值</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// &quot;{ value: null, done: false }&quot;</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 2</span>
<span class="token comment">// &quot;{ value: null, done: false }&quot;</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// {value: 14, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 3    {value: 3, done: false}</span>
</code></pre></div><ul><li><code>Generator.prototype.return()</code></li></ul> <p><code>return()</code>方法返回给定的值并结束生成器。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>g<span class="token punctuation">.</span><span class="token function">return</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//value 需要返回的值</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// { value: 1, done: false }</span>
g<span class="token punctuation">.</span><span class="token function">return</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { value: &quot;foo&quot;, done: true }</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// { value: undefined, done: true }</span>
</code></pre></div><p>如果对已经处于“完成”状态的生成器调用<code>return(value)</code>，则生成器将保持在“完成”状态。如果没有提供参数，则返回对象的<code>value</code>属性与示例最后的<code>.next()</code>方法相同。如果提供了参数，则参数将被设置为返回对象的<code>value</code>属性的值。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { value: 1, done: false }</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { value: 2, done: false }</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { value: 3, done: false }</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { value: undefined, done: true }</span>
g<span class="token punctuation">.</span><span class="token function">return</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { value: undefined, done: true }</span>
g<span class="token punctuation">.</span><span class="token function">return</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { value: 1, done: true }</span>
</code></pre></div><ul><li><code>Generator.prototype.throw()</code>：向生成器抛出一个错误。</li></ul> <p><code>throw()</code> 方法用来向生成器抛出异常，并恢复生成器的执行，返回带有 <code>done</code> 及 <code>value</code> 两个属性的对象。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>gen<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span>exception<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//exception 用于抛出的异常。 使用 Error 的实例对调试非常有帮助.</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
       <span class="token keyword">yield</span> <span class="token number">42</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Error caught!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { value: 42, done: false }</span>
g<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Something went wrong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Error caught!&quot;</span>
</code></pre></div><h2 id="_6-iterator"><a href="#_6-iterator" class="header-anchor">#</a> 6. iterator</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token operator">...</span><span class="token keyword">of</span> 循环可以遍历的数据  必须有Symbol<span class="token punctuation">.</span>iterator属性
	数组
	字符串
	arguments
</code></pre></div><p>for...of循环的工作原理</p> <p>1.查看遍历数据有没有<code>Symbol.iterator</code>这个属性</p> <p>​	有就生成<code>iterator</code>对象</p> <p>​	没有就报错</p> <p>2.调用<code>iterator</code>对象的<code>next</code>函数</p> <p>​	该函数返回一个对象 符合下面两种情况</p> <p>​	<strong>{value:数据,done:false}</strong></p> <p>​	<strong>{value:undefined,done:true}</strong></p> <h3 id="模拟iterator"><a href="#模拟iterator" class="header-anchor">#</a> 模拟iterator</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myInterator</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">//返回一个对象</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">next</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token operator">!==</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                done <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                done <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                value<span class="token punctuation">,</span>
                done<span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> iterator <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token string">'myInterator'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_7-新增symblo数据类型"><a href="#_7-新增symblo数据类型" class="header-anchor">#</a> 7. 新增symblo数据类型</h2> <h3 id="_7-1-es6新增数据类型-symbol"><a href="#_7-1-es6新增数据类型-symbol" class="header-anchor">#</a> 7.1 es6新增数据类型 symbol</h3> <p>本质上只要是不同<code>symbol</code>数据，<code>===</code>比较时就是<code>false</code>，为了人为区分长度一样的<code>symbol</code>数据，所以可以人为给symbol设置标识。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> s2 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'province'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_7-2-使用symbol-方法可以创建一个symbol类型的值。"><a href="#_7-2-使用symbol-方法可以创建一个symbol类型的值。" class="header-anchor">#</a> 7.2 使用Symbol()方法可以创建一个Symbol类型的值。</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> one <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;蚂蚁部落&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> two <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;蚂蚁部落&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>one <span class="token operator">==</span> two<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
</code></pre></div><p>即便是键值相同两个Symbol类型的值也是不相同的。</p> <h3 id="_7-3-使用symbol-for-方法也可以创建一个symbol类型的值"><a href="#_7-3-使用symbol-for-方法也可以创建一个symbol类型的值" class="header-anchor">#</a> 7.3 使用Symbol.for()方法也可以创建一个Symbol类型的值</h3> <p>但是此方法和Symbol()的一个重要<strong>区别</strong>是，<strong>它不会重复创建具有相同键的值</strong>，也就是说此方法在创建一个值之前，<strong>首先会搜索是否已经具有指定键的Symbol类型的值，如果有则返回这个Symbol值，否则新创建一个Symbol值。</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> one <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;蚂蚁部落&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> two <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;蚂蚁部落&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> one<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//symbol</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>one <span class="token operator">==</span> two<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
</code></pre></div><p>第一次调用Symbol.for()方法会创建一个键值为&quot;蚂蚁部落&quot;的Symbol类型的值。</p> <p>第二次调用的时候会搜索是否已经存在以&quot;蚂蚁部落&quot;为键的Symbol类型的值，如果存在就返回这个Symbol值。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> one <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> two <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> one<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//symbol</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>one <span class="token operator">==</span> two<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
</code></pre></div><p>不传递参数也是同样的道理。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> one <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;蚂蚁部落&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> two <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;蚂蚁部落&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>one <span class="token operator">==</span> two<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
</code></pre></div><p>Symbol.for()创建的值会被登记在全局环境中供搜索，而Symbol()创建的值不会，所以Symbol.for(&quot;蚂蚁部落&quot;)依然会新创建一个Symbol值，而不是返回Symbol(&quot;蚂蚁部落&quot;)创建的值。</p> <h2 id="_8-map数据结构"><a href="#_8-map数据结构" class="header-anchor">#</a> 8. map数据结构</h2> <h3 id="_8-1-创建map结构以及map中的方法"><a href="#_8-1-创建map结构以及map中的方法" class="header-anchor">#</a> 8.1 创建map结构以及map中的方法</h3> <p>方法:</p> <ul><li><code>set(属性名,属性值)</code>设置任意数据类型作为map结构的属性名</li> <li><code>get(属性名)</code>获取指定属性名的属性值</li> <li><code>has(属性名)</code>判断有没有指定属性名</li> <li><code>delete(属性名)</code>删除指定属性名
<code>size</code>长度相当于<code>length</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//创建</span>
<span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'heaven'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">'对象属性值'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'数组属性值'</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token comment">//3</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'heaven'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'对象属性名'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token string">'数组属性名'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span><span class="token string">'函数属性名'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//对象属性名</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//此时的数据m:</span>
<span class="token punctuation">(</span><span class="token punctuation">[</span>
	<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'heaven'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">'对象属性值'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'数组属性值'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'heaven'</span><span class="token punctuation">}</span><span class="token operator">:</span><span class="token string">'对象属性名'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token string">'数组属性名'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'function'</span><span class="token operator">:</span><span class="token string">'函数属性名'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_9-set数据结构"><a href="#_9-set数据结构" class="header-anchor">#</a> 9. set数据结构</h2> <h3 id="_9-1-set数据结构特点"><a href="#_9-1-set数据结构特点" class="header-anchor">#</a> 9.1 set数据结构特点</h3> <ul><li>1.数据不能够重复。</li> <li>2.索引和数据是一致的。</li></ul> <h3 id="_9-2-set的操作方法"><a href="#_9-2-set的操作方法" class="header-anchor">#</a> 9.2 set的操作方法</h3> <ul><li><code>add(数据)</code>，向set结构中填充数据。</li> <li><code>delete(数据)</code>，删除set结构中的指定数据。</li> <li><code>has(数据)</code>，判断set结构中有没有指定数据。</li> <li><code>clear()</code>，清空set结构中的所有数据。</li></ul> <p><strong>set的属性</strong></p> <ul><li><code>size</code>，存放set结构数据的长度。</li></ul> <p><strong>set的遍历方法</strong></p> <ul><li><code>forEach</code></li></ul> <p><strong>new Set(参数)</strong></p> <ul><li>1.数组</li> <li>2.字符串</li></ul> <p><strong>示例</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//利用set结构 实现数组去重</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Set(3) {1, 2, 3}</span>
<span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>s1<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//[1,2,3]</span>

<span class="token comment">//利用set结构 实现字符串去重</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newStr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>s2<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//'helo'</span>
</code></pre></div><h3 id="weakset"><a href="#weakset" class="header-anchor">#</a> WeakSet</h3> <p>WeakSet(必须是数组)，而且数组中必须全部都是引用值。</p> <p>WeakSet这种数据格式没有<code>Symbol.iterator</code>，所有不能生成遍历器。</p> <h2 id="_10-async-await"><a href="#_10-async-await" class="header-anchor">#</a> 10. async await</h2> <p><code>async</code>函数的返回结果是<code>promise</code></p> <ul><li>状态默认是成功的</li> <li>值是函数的返回值</li></ul> <p><code>await</code>关键词后面一般都是跟着<code>promise</code>机器</p> <ul><li>等到该机器状态为<code>resolve</code>，才会执行<code>await</code>下面的代码。</li> <li>如果该机器状态为<code>reject</code>就不会执行<code>await</code>后面的代码。</li> <li>为了避免报错可以把可能出错的代码放到<code>try</code>代码块中。</li> <li>则错误会被捕捉到<code>catch</code>代码块中。</li></ul> <p>示例:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">heaven</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span>rej</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">rej</span><span class="token punctuation">(</span><span class="token string">'我是失败的机器'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">heaven</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//控制台输出:2,3,1.4.string,5</span>
</code></pre></div><h2 id="_11-try-catch"><a href="#_11-try-catch" class="header-anchor">#</a> 11. try catch</h2> <p>JS报错的分类</p> <ul><li>语法错误</li> <li>非法的标识</li> <li>引用错误</li> <li>在顺着作用域链没找到该变量</li> <li>类型错误</li> <li>在顺着作用域链找到了该变量，但是却使用错误</li> <li>JS引擎最先找到语法错误</li> <li>如果没有该变量直接判定为引用错误</li> <li>如果有该变量就判断是否为类型错误</li></ul> <p><strong>try:  语句测试代码块的错误，一般把可能会出错的代码放到这里</strong>。</p> <p><strong>catch： 只有try里面的代码块发生错误时，才会执行这里的代码，参数err记录着try里面代码的错误信息</strong>。</p> <p><strong>finally: 无论有无异常里面代码都会执行</strong>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">try</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'    '</span><span class="token operator">+</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token keyword">finally</span><span class="token punctuation">{</span>
    <span class="token comment">//无论是否捕获到错误，都会执行</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_12-promise"><a href="#_12-promise" class="header-anchor">#</a> 12. promise</h2> <p><code>promise</code>是为了解决<strong>回调地狱</strong>的
<code>promise</code>就是一个机器
机器是有三种状态的
待机  <code>pending</code>
工作  <code>resolved</code>
故障  <code>rejected</code>
**<code>resolved</code>状态的<code>promise</code>机器 会触发<code>then</code>的第一个回调函数
<strong><code>resolved</code>状态的的数据会作为参数传递到第一个回调函数中</strong>。</p> <p>then函数返回的结果也是一个promise机器</p> <p>这个机器的状态取决于触发的回调函数的返回值，只有回调函数返回一个失败状态的promise，则then函数的返回结果才是失败状态的promise。否则，返回结果都是成功状态的promise;</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">// resolve('我成功了')</span>
	<span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'我失败了'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//res数据</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>	<span class="token comment">//这个箭头函数是then的回调</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//'我失败了'</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'我失败了'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>res执行then，rej执行catch</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'我成功了'</span><span class="token punctuation">)</span>
    <span class="token comment">// reject('我失败了')</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>promise实现执行顺序，无论定时器如何，必须等机器状态res才能进入下一个回调</strong>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span>rej</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'开始'</span><span class="token punctuation">)</span>
		<span class="token function">res</span><span class="token punctuation">(</span><span class="token string">'第一台机器'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span>rej</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'执行'</span><span class="token punctuation">)</span>
			<span class="token function">res</span><span class="token punctuation">(</span><span class="token string">'第二台机器'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1000</span> <span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'结束'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1000</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="promise-all，promise-race"><a href="#promise-all，promise-race" class="header-anchor">#</a> promise.all，promise.race</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span>p2<span class="token punctuation">,</span>p3<span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">//如果所有的promise机器状态都是resolved  则all函数的返回结果就是resolved</span>
<span class="token comment">//如果有一个promise机器状态是rejected   则all函数的返回结果就是rejected</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span>p2<span class="token punctuation">,</span>p3<span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">//返回的是最早有状态的promise机器</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>参数<span class="token punctuation">)</span>  <span class="token comment">//生成一个resolved状态的机器</span>
Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>参数<span class="token punctuation">)</span>  <span class="token comment">//生成一个rejected状态的机器</span>
</code></pre></div><p><strong>示例</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span>rej</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token function">res</span><span class="token punctuation">(</span><span class="token string">'p1成功了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span>rej</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token function">res</span><span class="token punctuation">(</span><span class="token string">'p2成功了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span>rej</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token function">res</span><span class="token punctuation">(</span><span class="token string">'p3成功了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span>p2<span class="token punctuation">,</span>p3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//如果不想promise机器报错  必须把错误信息catch</span>
p<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span>
</code></pre></div><h2 id="_13-class，extend"><a href="#_13-class，extend" class="header-anchor">#</a> 13. class，extend</h2> <h3 id="_13-1-class创建类"><a href="#_13-1-class创建类" class="header-anchor">#</a> 13.1 class创建类</h3> <p>使用class关键词可以定义一个类，类的数据类型是function，只要通过new启动了类，就会自动执行constructor这个函数。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>   <span class="token comment">//类  只能写函数</span>
    <span class="token comment">// 而且这些函数(没有使用static关键词)会自动挂到Person.prototype上 这些方法成为动态方法</span>
    <span class="token comment">//有static 关键词修饰的函数 会挂载到类上  这些方法叫做静态方法</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>      <span class="token comment">//构造函数</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token punctuation">}</span>
    <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'heaven'</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_13-2-extends继承"><a href="#_13-2-extends继承" class="header-anchor">#</a> 13.2 extends继承</h3> <ul><li>1.如果不在类中写constructor函数，系统会自动加上。</li> <li>2.必须在一个继承父类的子类的constructor函数写上super()，这时super是一个函数。</li> <li>3.super在子类的constructor中指的是，父类的constructor。</li> <li>4.在除了constructor方法的所有方法中使用super，此时super表示父类的原型。</li></ul> <p><strong>super的指向</strong></p> <ul><li><p>1.在子类的所有方法中</p> <div class="language- extra-class"><pre><code>  把`super`当做对象使用，则super表示父类的原型对象。
</code></pre></div></li> <li><p>2.在子类的<code>constructor</code>中</p> <div class="language- extra-class"><pre><code>  当做函数使用，则`super`就指向父类的`constructor`。
</code></pre></div></li> <li><p>3.在子类的方法中</p> <div class="language- extra-class"><pre><code>  把`super`当做对象使用，并且赋值，则`super`指向`this`。
</code></pre></div></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>   <span class="token comment">//父类</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//继承父类constructor函数中的属性</span>
	<span class="token punctuation">}</span>
	<span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>      
		<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//在执行子类的方法的同时  还需要执行父类的同名方法</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'子类的方法'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>       <span class="token comment">//父类</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>           
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>     <span class="token comment">//子类</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//父类的构造函数  继承父类中constructor函数中的私有属性</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>   <span class="token comment">//如果通过super对某个属性赋值，这时super就是this</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//undefined</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//3</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_14-es6导入import导出export"><a href="#_14-es6导入import导出export" class="header-anchor">#</a> 14. ES6导入import导出export</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//a.js</span>
<span class="token keyword">import</span> a<span class="token punctuation">,</span><span class="token punctuation">{</span>b1 <span class="token keyword">as</span> a1<span class="token punctuation">,</span>b2<span class="token punctuation">,</span>b3<span class="token punctuation">,</span>b4<span class="token punctuation">,</span>b5<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./b.js'</span>
<span class="token comment">//a接收了b.js的默认导出{name:'heaven'},bi导入命名为a1</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> obj <span class="token keyword">from</span> <span class="token string">'./b.js'</span>

<span class="token comment">//as 关键词的作用</span>
<span class="token comment">//可以把b.js文件中的变量名  重命名</span>
<span class="token comment">//接收默认导出的数据  是不需要{}的</span>
<span class="token comment">//导入的数据是只读的，修改只能让自身模块修改</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//b.js</span>
<span class="token comment">//一个export 关键词只能导出一个数据</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> b1 <span class="token operator">=</span> <span class="token string">'我是b文件的数据'</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> b2 <span class="token operator">=</span> <span class="token number">2</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> <span class="token function-variable function">b3</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">//这种方式一个export 可以导出多个数据</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>            
	<span class="token comment">//变量1,变量2...</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> b4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> b5 <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">'heaven'</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>
    b4<span class="token punctuation">,</span>
    b5
<span class="token punctuation">}</span>
<span class="token comment">//默认导出     在一个js文件中只能默认导出一次</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'heaven'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2020-5-19 23:49:09</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/JavaScript/js面向对象.html" class="prev">
        js面向对象
      </a></span> <span class="next"><a href="/docs/JavaScript/js内置对象MathDate.html">
        js内置对象
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.ca99be60.js" defer></script><script src="/docs/assets/js/2.f90869d3.js" defer></script><script src="/docs/assets/js/11.c7faf0dc.js" defer></script>
  </body>
</html>
